<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èª°æœ€å±Œï¼ï¼Ÿå“ºä¹³é¡å‹•ç‰©çš„ã€Œé‚£è©±å…’ã€å¤§å…¬é–‹ï¼</title>
    <!-- å¼•å…¥ Tailwind CSS CDNï¼Œç”¨æ–¼å¿«é€Ÿå»ºç«‹éŸ¿æ‡‰å¼å’Œç¾è§€çš„ä»‹é¢ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ Tone.js ç”¨æ–¼ç”ŸæˆéŸ³æ•ˆ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
    <style>
        /* è¨­å®š Inter å­—é«”ï¼Œæä¾›æ›´å¥½çš„å¯è®€æ€§ */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to right bottom, #a7f3d0, #67e8f9); /* æ´»æ½‘çš„æ¼¸å±¤èƒŒæ™¯ */
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem; /* å¢åŠ æ•´é«”å…§é‚Šè· */
        }
        /* è‡ªå®šç¾©è¡¨æ ¼æ¨™é ­çš„ç®­é ­æ¨£å¼ï¼Œç”¨æ–¼æŒ‡ç¤ºæ’åºæ–¹å‘ */
        .sort-arrow {
            display: inline-block;
            margin-left: 0.5rem;
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            vertical-align: middle;
        }
        .sort-asc {
            border-bottom: 5px solid white; /* ä¸Šç®­é ­ */
        }
        .sort-desc {
            border-top: 5px solid white; /* ä¸‹ç®­é ­ */
        }
        /* è¡¨æ ¼è¡Œæ‡¸åœæ•ˆæœ */
        tr:hover {
            transform: scale(1.01); /* è¼•å¾®æ”¾å¤§ */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* å¢åŠ é™°å½± */
            transition: all 0.2s ease-in-out;
        }
        /* è¶£å‘³çŸ¥è­˜å€å¡Šçš„æ¨£å¼ */
        .fun-facts-section {
            background-color: #ffe4e6; /* æ·ºç²‰è‰²èƒŒæ™¯ */
            border-left: 5px solid #f472b6; /* ç²‰è‰²é‚Šæ¡† */
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin-top: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .fun-facts-section h2 {
            color: #db2777; /* æ·±ç²‰è‰²æ¨™é¡Œ */
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-align: center;
        }
        .fun-facts-section ul {
            list-style: none; /* ç§»é™¤é è¨­åˆ—è¡¨é» */
            padding-left: 0;
        }
        .fun-facts-section li {
            margin-bottom: 0.75rem;
            color: #831843; /* æ·±ç´…è‰²æ–‡å­— */
            line-height: 1.6;
            position: relative;
            padding-left: 1.5rem; /* ç‚ºè‡ªå®šç¾©é»ç•™ç©ºé–“ */
        }
        .fun-facts-section li::before {
            content: 'ğŸ’¡'; /* è‡ªå®šç¾©åˆ—è¡¨é» */
            position: absolute;
            left: 0;
            top: 0;
            font-size: 1.2rem;
        }
        /* ç«‹é«”æŒ‰éˆ•æ¨£å¼ */
        .qa-button {
            /* åŸºæœ¬æ¨£å¼ */
            @apply bg-pink-500 text-white font-bold py-3 px-6 rounded-full cursor-pointer;
            /* é‚Šç•Œå’Œ 3D æ•ˆæœèª¿æ•´ */
            border: 2px solid #c21e56; /* å¢åŠ æ˜é¡¯çš„é‚Šç•Œ */
            box-shadow: 0 6px 0 #8b153a, /* æ›´æ·±çš„åº•éƒ¨é™°å½±ï¼Œæ¨¡æ“¬æ·±åº¦ */
                        0 2px 4px rgba(0, 0, 0, 0.2); /* è¼•å¾®çš„é ‚éƒ¨é™°å½± */
            transition: all 0.1s ease-in-out; /* å¹³æ»‘éæ¸¡ */
            transform: translateY(0); /* é è¨­ä½ç½® */
        }
        .qa-button:hover {
            @apply bg-pink-600;
            transform: translateY(-2px); /* æ‡¸åœæ™‚è¼•å¾®ä¸Šæµ® */
            box-shadow: 0 8px 0 #7b1333, /* æ‡¸åœæ™‚æ›´æ·±çš„é™°å½± */
                        0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .qa-button:active {
            @apply bg-pink-700;
            transform: translateY(4px); /* é»æ“Šæ™‚ä¸‹æ²‰ï¼Œæ¨¡æ“¬æŒ‰ä¸‹ */
            box-shadow: 0 2px 0 #5c0f27, /* æŒ‰ä¸‹æ™‚æ›´æ·ºçš„é™°å½± */
                        0 1px 2px rgba(0, 0, 0, 0.1);
            border-color: #5c0f27; /* æŒ‰ä¸‹æ™‚é‚Šç•Œé¡è‰²è®Šæ·± */
        }
        .qa-button:disabled {
            @apply bg-gray-400 text-gray-200 cursor-not-allowed;
            border-color: #a0a0a0; /* ç¦ç”¨æ™‚çš„é‚Šç•Œé¡è‰² */
            box-shadow: 0 3px 0 #707070; /* ç¦ç”¨æ™‚çš„é™°å½± */
            transform: translateY(0); /* ç¦ç”¨æ™‚ç„¡å‹•ç•« */
        }
        /* äººé¡è¡Œæ¨™ç¤ºæ¨£å¼ */
        .highlight-human {
            background-color: #fffacd !important; /* æ·ºé»ƒè‰²èƒŒæ™¯ */
            font-weight: bold;
            color: #8b4513; /* æ·±æ£•è‰²æ–‡å­— */
        }
        /* çš‡å† è¡¨æƒ…ç¬¦è™Ÿçš„æ¨£å¼ */
        .crown-emoji {
            font-size: 1.8em; /* è®“çš‡å† æ›´å¤§ */
            line-height: 1; /* èª¿æ•´è¡Œé«˜ä»¥æ›´å¥½åœ°å®šä½ */
            display: block; /* è®“çš‡å† ç¨ä½”ä¸€è¡Œ */
            margin-bottom: 0.2em; /* å¢åŠ èˆ‡æ–‡å­—çš„é–“è· */
        }
        /* åŒ…å«çš‡å† å’Œå‹•ç‰©åç¨±çš„å–®å…ƒæ ¼æ¨£å¼ */
        .animal-cell-content {
            display: flex;
            flex-direction: column; /* å‚ç›´æ’åˆ— */
            align-items: center; /* æ°´å¹³å±…ä¸­ */
            justify-content: center; /* å‚ç›´å±…ä¸­ */
            text-align: center; /* æ–‡å­—å±…ä¸­ */
            height: 100%; /* è®“å…§å®¹ä½”æ»¿å–®å…ƒæ ¼é«˜åº¦ */
        }
        /* å‹•ç‰©åç¨±æŒ‰éˆ•æ¨£å¼ */
        .animal-name-button {
            @apply bg-transparent text-gray-800 font-semibold py-1 px-2 rounded-md;
            @apply hover:underline hover:text-pink-600 transition-colors duration-150;
            cursor: pointer;
            border: none; /* ç§»é™¤é è¨­æŒ‰éˆ•é‚Šæ¡† */
            display: inline-block; /* å…è¨±æ–‡å­—æ›è¡Œ */
            white-space: normal; /* å…è¨±æ–‡å­—æ›è¡Œ */
            line-height: 1.2; /* èª¿æ•´è¡Œé«˜è®“æ–‡å­—æ›´ç·Šæ¹Š */
        }
        .highlight-human .animal-name-button {
            @apply text-orange-800; /* èª¿æ•´é«˜äº®è¡Œæ–‡å­—é¡è‰² */
        }

        /* è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—æ¨£å¼ */
        .fun-note-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000; /* ç¢ºä¿åœ¨æœ€ä¸Šå±¤ */
        }

        .fun-note-modal-content {
            background-color: #fff;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            max-width: 90%;
            width: 400px; /* ç·Šæ¹Šçš„å›ºå®šå¯¬åº¦ */
            position: relative;
            animation: fadeInScale 0.3s ease-out forwards; /* åŠ å…¥å‹•ç•« */
        }

        .fun-note-modal-close {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #9ca3af; /* ç°è‰² */
            cursor: pointer;
            padding: 0.25rem;
            line-height: 1;
            transition: color 0.2s ease-in-out;
        }

        .fun-note-modal-close:hover {
            color: #ef4444; /* ç´…è‰² */
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center">
    <div class="bg-white rounded-lg shadow-2xl p-6 max-w-5xl w-full my-8">
        <h1 class="text-4xl font-extrabold text-center text-pink-600 mb-6 animate-pulse">
            èª°æœ€å±Œï¼ï¼Ÿ ğŸ† å“ºä¹³é¡å‹•ç‰©çš„ã€Œé‚£è©±å…’ã€å¤§å…¬é–‹ï¼ â±ï¸
        </h1>
        <p class="text-lg text-gray-700 text-center mb-4">
            å¥½å¥‡å‹•ç‰©ç•Œçš„ã€Œå°ºå¯¸ã€èˆ‡ã€ŒæŒä¹…åŠ›ã€å—ï¼Ÿä¸€èµ·ä¾†çœ‹çœ‹é€™äº›ä»¤äººé©šè¨ğŸ™€çš„æ•¸æ“šå§ï¼
        </p>
        <p class="text-lg text-gray-700 text-center mb-8 font-semibold text-purple-700">
            åˆ¥å¿˜äº†ï¼Œé é¢ä¸‹æ–¹é‚„æœ‰åˆºæ¿€çš„**å¿«å•å¿«ç­”**ç­‰ä½ ä¾†**æº–å‚™å¥½è…¦åŠ›æ¿€ç›ªäº†å—ï¼Ÿ**ğŸ§ 
        </p>

        <div class="overflow-x-auto rounded-lg border border-gray-200 shadow-md">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-pink-500 text-white">
                    <tr>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider rounded-tl-lg cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="rank">
                            æ’å
                            <span class="sort-arrow" id="sort-rank"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="animal">
                            å‹•ç‰©ç¨®é¡ ğŸ¾
                            <span class="sort-arrow" id="sort-animal"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="lengthSort">
                            å‹ƒèµ·é•·åº¦ (ç´„ç•¥) ğŸ“
                            <span class="sort-arrow" id="sort-lengthSort"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="ejaculationSort">
                            å°„ç²¾æ™‚é–“ (ç´„ç•¥) â±ï¸
                            <span class="sort-arrow" id="sort-ejaculationSort"></span>
                        </th>
                    </tr>
                </thead>
                <tbody id="mammal-table-body" class="bg-white divide-y divide-gray-200">
                    <!-- è¡¨æ ¼å…§å®¹å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
                </tbody>
            </table>
        </div>

        <!-- åŒå ´åŠ æ˜ ï¼šæŒä¹…ç‹æ’åå€å¡Š (é‡æ–°æ’ç‰ˆ) -->
        <div class="bg-blue-100 rounded-lg shadow-md p-6 mt-8 border-l-4 border-blue-500">
            <h2 class="text-center text-2xl font-bold text-blue-800 mb-6">ğŸ‘‘ åŒå ´åŠ æ˜ ï¼šå“ºä¹³é¡çš„ã€ŒæŒä¹…ç‹ã€æ’å ğŸ‘‘</h2>
            <div class="overflow-x-auto rounded-lg border border-blue-200">
                <table class="w-full text-left table-auto">
                    <thead class="bg-blue-600 text-white">
                        <tr>
                            <th class="px-4 py-3 text-sm font-semibold rounded-tl-lg">æ’å</th>
                            <th class="px-4 py-3 text-sm font-semibold">å‹•ç‰©</th>
                            <th class="px-4 py-3 text-sm font-semibold">ç‰¹è‰²</th>
                            <th class="px-4 py-3 text-sm font-semibold rounded-tr-lg">å¹³å‡äº¤é…æ™‚é–“</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">1ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">æœè </td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">äº¤é…å¯é•·é” 6â€“12 å°æ™‚ï¼Œä¸­é–“å¹¾ä¹ä¸ä¼‘æ¯ï¼Œç®—æ˜¯å“ºä¹³é¡ç•Œæœ€é©šäººçš„é¦¬æ‹‰æ¾å‹é¸æ‰‹</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">6â€“12 å°æ™‚</td>
                        </tr>
                        <tr class="bg-blue-50 border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">2ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">ç…å­</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">é›–ç„¶å–®æ¬¡åªæœ‰ 30â€“60 ç§’ï¼Œä½† 24 å°æ™‚å…§èƒ½äº¤é… 20â€“40 æ¬¡ï¼Œç¸½æ™‚æ•¸ç´¯ç©æè¶…éæœè </td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">å¤šæ¬¡ç´¯ç©æ•¸å°æ™‚</td>
                        </tr>
                        <tr class="border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">3ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">å€­é»‘çŒ©çŒ©</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">ç¤¾äº¤å‹äº¤é…ï¼Œé »ç‡é«˜ã€æ™‚é–“é•·ï¼Œå¸¸æœ‰ã€Œé•·æ™‚é–“æ„›æ’«èˆ‡é…å°è¡Œç‚ºã€ï¼Œå¯æŒçºŒ 30â€“60 åˆ†é˜</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">30â€“60 åˆ†é˜</td>
                        </tr>
                        <tr class="bg-blue-50 border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">4ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">ç°é¯¨</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">äº¤é…å¸¸æ˜¯ã€Œä¸‰äººè¡Œã€ï¼Œäº’ç›¸å”åŠ©é…å°ï¼Œæ™‚é–“å¯æŒçºŒ 30 åˆ†é˜ä»¥ä¸Š</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">30 åˆ†é˜ä»¥ä¸Š</td>
                        </tr>
                        <tr class="border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">5ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">æµ·è±š</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">äº¤é…é »ç¹ï¼Œé›–ç„¶æ¯æ¬¡åƒ…æ•¸åç§’ï¼Œä½†å‰æˆ²é•·ã€äº’å‹•é »ç¹ï¼Œæ˜¯ã€Œè€åŠ›ç¤¾äº¤æ´¾ã€</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">å¤šæ¬¡ç´¯ç©</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- å¿«å•å¿«ç­”å€å¡Š -->
        <div class="fun-facts-section">
            <h2 class="text-center text-2xl font-bold mb-4">ğŸ§  å¿«å•å¿«ç­”æ™‚é–“ï¼è€ƒè€ƒä½ å°å‹•ç‰©çš„äº†è§£ï¼ ğŸ’¡</h2>
            <div id="qa-container" class="text-center p-4">
                <p id="qa-question" class="text-xl font-semibold text-gray-800 mb-4"></p>
                <p id="qa-answer" class="text-lg text-gray-700 mb-6 hidden"></p>
                <div class="space-x-4">
                    <button id="show-answer-btn" class="qa-button">é¡¯ç¤ºç­”æ¡ˆ</button>
                    <button id="next-question-btn" class="qa-button">ä¸‹ä¸€é¡Œ</button>
                    <button id="restart-quiz-btn" class="qa-button hidden">é‡æ–°é–‹å§‹</button>
                </div>
            </div>
        </div>

        <p class="text-sm text-gray-600 mt-6 text-center">
            <strong class="font-semibold">å…è²¬è²æ˜ï¼š</strong> é€™äº›æ•¸æ“šä¸»è¦ä¾†è‡ªç§‘å­¸ç ”ç©¶å’Œè§€å¯Ÿï¼Œä½†å¯¦éš›æƒ…æ³å¯èƒ½å› å€‹é«”ã€ç’°å¢ƒå’Œæ¸¬é‡æ–¹æ³•è€Œç•°ã€‚
        </p>
    </div>

    <!-- è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª— (Modal) -->
    <div id="fun-note-modal-overlay" class="fun-note-modal-overlay hidden">
        <div class="fun-note-modal-content">
            <button id="fun-note-modal-close" class="fun-note-modal-close">&times;</button>
            <h3 id="modal-animal-name" class="text-2xl font-bold text-pink-600 mb-3 text-center"></h3>
            <p id="modal-fun-note" class="text-gray-700 text-base leading-relaxed"></p>
        </div>
    </div>

    <script>
        // å“ºä¹³é¡å‹•ç‰©æ•¸æ“šï¼ŒåŠ å…¥æ›´å¤šè¶£å‘³æè¿°å’Œæ’åºç”¨çš„æ•¸å€¼
        // åƒ…ä¿ç•™æ’å 1 åˆ° 30 çš„å‹•ç‰©
        const mammalData = [
            { rank: 1, animal: "è—é¯¨ ğŸ³", lengthText: "240 - 300 å…¬åˆ† (ç´„ä¸€å°å…¬è»Šé•·)", lengthSort: 270, ejaculationText: "æ·±æµ·ç§˜å¯†ï¼Œå°šå¾…æ¢ç´¢ï¼", ejaculationSort: Infinity, notes: "åœ°çƒä¸Šé«”å‹æœ€å¤§çš„å‹•ç‰©ï¼Œå…¶é™°è–ä¹Ÿæ˜¯å·²çŸ¥å‹•ç‰©ä¸­æœ€å¤§çš„ï¼Œç°¡ç›´æ˜¯æµ·æ´‹å·¨ç„¡éœ¸ï¼" },
            { rank: 2, animal: "éæ´²è±¡ ğŸ˜", lengthText: "100 - 180 å…¬åˆ† (ç´„ä¸€å€‹æˆå¹´äººé«˜)", lengthSort: 140, ejaculationText: "é–ƒé›»èˆ¬è¿…é€Ÿï¼", ejaculationSort: 60, notes: "é™¸åœ°ä¸Šé™°è–æœ€é•·çš„å‹•ç‰©ï¼Œå¨é¢¨å‡œå‡œï¼" },
            { rank: 3, animal: "å…¬ç‰› ğŸ‚", lengthText: "80 - 100 å…¬åˆ†", lengthSort: 90, ejaculationText: "ä¸€çœ¨çœ¼å°±æå®šï¼", ejaculationSort: 5, notes: "å®ƒçš„ã€Œé‚£è©±å…’ã€ä¸»è¦æ˜¯ä¼¸é•·ï¼Œè€Œä¸æ˜¯è®Šç²—ï¼Œæ•ˆç‡è‡³ä¸Šï¼" },
            { rank: 4, animal: "é•·é ¸é¹¿ ğŸ¦’", lengthText: "70 - 100 å…¬åˆ†", lengthSort: 85, ejaculationText: "å’»ä¸€ä¸‹å°±å®Œæˆäº†ï¼", ejaculationSort: 5, notes: "é«˜é«˜åœ¨ä¸Šçš„ç‰ å€‘ï¼Œé€£é€™æ–¹é¢ä¹Ÿèˆ‡çœ¾ä¸åŒï¼" },
            { rank: 5, animal: "æµ·è±¡ ğŸ¦­", lengthText: "60 - 75 å…¬åˆ†", lengthSort: 67.5, ejaculationText: "å†°æµ·ä¹‹è¬ï¼", ejaculationSort: Infinity, notes: "æ“æœ‰æ‰€æœ‰å“ºä¹³å‹•ç‰©ä¸­æœ€é•·çš„é™°è–éª¨ï¼Œç¡¬åº¦é©šäººï¼" },
            { rank: 6, animal: "é¦¬ ğŸ", lengthText: "50 - 100 å…¬åˆ†", lengthSort: 75, ejaculationText: "å¹¾ç§’é˜çš„äº‹ï¼", ejaculationSort: 30, notes: "å‹ƒèµ·æ™‚é•·åº¦å¯é”å¹³æ™‚çš„å…©å€ï¼Œè®ŠåŒ–è¶…å¤§ï¼" },
            { rank: 7, animal: "è±¬ ğŸ–", lengthText: "30 - 50 å…¬åˆ†", lengthSort: 40, ejaculationText: "è€å¿ƒç­‰å¾… 5-15 åˆ†é˜ï¼", ejaculationSort: 600, notes: "ç¨ç‰¹çš„èºæ—‹ç‹€é™°è–ï¼Œç‚ºäº†æ›´ã€Œç·Šå¯†ã€çš„çµåˆï¼" },
            { rank: 8, animal: "é©¢ ğŸ´", lengthText: "25 - 40 å…¬åˆ†", lengthSort: 32.5, ejaculationText: "ç¬é–“å®Œæˆï¼", ejaculationSort: 30, notes: "" },
            { rank: 9, animal: "ç°ç†Š ğŸ»", lengthText: "20 - 30 å…¬åˆ†", lengthSort: 25, ejaculationText: "æ£®æ—è£¡çš„ç§˜å¯†ï¼", ejaculationSort: Infinity, notes: "" },
            { rank: 10, animal: "é§±é§ ğŸª", lengthText: "20 - 30 å…¬åˆ†", lengthSort: 25, ejaculationText: "å¹¾åˆ†é˜çš„æµªæ¼«ï¼", ejaculationSort: 120, notes: "æ²™æ¼ ä¸­çš„è€åŠ›ç‹è€…ï¼Œé€£é€™æ–¹é¢ä¹Ÿå¾ˆæœ‰è€å¿ƒï¼" },
            { rank: 11, animal: "ç´…é¹¿ ğŸ¦Œ", lengthText: "15 - 25 å…¬åˆ†", lengthSort: 20, ejaculationText: "å¿«é€Ÿæå®šï¼", ejaculationSort: 5, notes: "" },
            { rank: 12, animal: "ç¾Š ğŸ‘", lengthText: "15 - 20 å…¬åˆ†", lengthSort: 17.5, ejaculationText: "å’»ä¸€ä¸‹å°±çµæŸäº†ï¼", ejaculationSort: 5, notes: "" },
            { rank: 13, animal: "å±±ç¾Š ğŸ", lengthText: "15 - 20 å…¬åˆ†", lengthSort: 17.5, ejaculationText: "ç¬é–“å®Œæˆï¼", ejaculationSort: 5, notes: "" },
            { rank: 14, animal: "äººé¡ ğŸ§", lengthText: "13 - 15 å…¬åˆ†", lengthSort: 14, ejaculationText: "æ•¸åˆ†é˜ï¼Œå› äººè€Œç•°ï¼", ejaculationSort: 120, notes: "å¹³å‡å‹ƒèµ·é•·åº¦ï¼Œä½†ã€Œå°ºå¯¸ã€å’Œã€Œæ™‚é–“ã€éƒ½æ˜¯å€‹é«”å·®ç•°å¾ˆå¤§çš„è©±é¡Œå–”ï¼" },
            { rank: 15, animal: "è€è™ ğŸ…", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "é›»å…‰ç«çŸ³ä¹‹é–“ï¼", ejaculationSort: 5, notes: "é™°è–å¸¶æœ‰å€’åˆºï¼Œç‚ºäº†å¿«é€Ÿåˆºæ¿€é›Œæ€§æ’åµï¼" },
            { rank: 16, animal: "ç…å­ ğŸ¦", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "è¿…é€Ÿæå®šï¼", ejaculationSort: 5, notes: "èˆ‡è€è™é¡ä¼¼ï¼Œä¹Ÿæ˜¯å¸¶åˆºçš„ã€Œé‚£è©±å…’ã€ï¼" },
            { rank: 17, animal: "ç‹— ğŸ¶", lengthText: "5 - 20 å…¬åˆ†", lengthSort: 12.5, ejaculationText: "5 - 30 åˆ†é˜ (é–å®šä¸­...)", ejaculationSort: 1000, notes: "äº¤é…æ™‚æœƒå‡ºç¾ã€Œé–å®šã€ç¾è±¡ï¼Œæ‰€ä»¥æ™‚é–“æœƒæ¯”è¼ƒé•·å–”ï¼" },
            { rank: 18, animal: "è¢‹é¼  ğŸ¦˜", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "å¾ˆå¿«çš„ï¼", ejaculationSort: 5, notes: "æ“æœ‰ç¨ç‰¹çš„é›™é ­é™°è–ï¼Œé©æ‡‰é›Œæ€§çš„é›™é™°é“çµæ§‹ï¼" },
            { rank: 19, animal: "ç‹¼ ğŸº", lengthText: "8 - 15 å…¬åˆ†", lengthSort: 11.5, ejaculationText: "5 - 30 åˆ†é˜ (é–å®šä¸­...)", ejaculationSort: 1000, notes: "å’Œç‹—ç‹—ä¸€æ¨£ï¼Œä¹Ÿæœƒæœ‰ã€Œé–å®šã€çš„ç‰¹æ®Šæ™‚åˆ»ï¼" },
            { rank: 20, animal: "ç†Šè²“ ğŸ¼", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "æº«æŸ”çš„å¹¾åˆ†é˜ï¼", ejaculationSort: 120, notes: "çœ‹ä¼¼ç¬¨æ‹™ï¼Œä½†é€™æ–¹é¢ä¹Ÿå¾ˆåŠªåŠ›ï¼" },
            { rank: 21, animal: "ç‹ç‹¸ ğŸ¦Š", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "å¹¾åˆ†é˜çš„æµªæ¼«ï¼", ejaculationSort: 120, notes: "" },
            { rank: 22, animal: "æ°´çº ğŸ¦¦", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "æ°´ä¸‹é€²è¡Œï¼Œæ™‚é–“ä¸è©³ï¼", ejaculationSort: 60, notes: "æ°´ä¸­çš„å°ç²¾éˆï¼Œäº¤é…ä¹Ÿå¾ˆæœ‰è¶£ï¼" },
            { rank: 23, animal: "è™è  ğŸ¦‡", lengthText: "1 - 5 å…¬åˆ†", lengthSort: 3, ejaculationText: "å¤œé–“è¡Œå‹•ï¼Œæ˜¯å€‹è¬ï¼", ejaculationSort: Infinity, notes: "ç¨®é¡ç¹å¤šï¼Œå°ºå¯¸ä¹Ÿå„ç•°ï¼Œä½†é€šå¸¸éƒ½å°å·§ç²ç“ï¼" },
            { rank: 24, animal: "å¤§çŒ©çŒ© ğŸ¦", lengthText: "3 - 4 å…¬åˆ†", lengthSort: 3.5, ejaculationText: "æ•¸ç§’è‡³æ•¸åˆ†é˜ï¼Œå¾ˆæœ‰æ•ˆç‡ï¼", ejaculationSort: 60, notes: "é«”å‹é›–å¤§ï¼Œä½†ã€Œé‚£è©±å…’ã€å»ç›¸å°è¿·ä½ ï¼Œè­‰æ˜å°ºå¯¸ä¸æ˜¯å”¯ä¸€ï¼" },
            { rank: 25, animal: "è²“ ğŸ±", lengthText: "2 - 3 å…¬åˆ†", lengthSort: 2.5, ejaculationText: "å¿«é€Ÿé–ƒé›»æˆ°ï¼", ejaculationSort: 5, notes: "é™°è–å¸¶æœ‰å€’åˆºï¼Œæ˜¯ç‚ºäº†åˆºæ¿€é›Œè²“æ’åµçš„ç§˜å¯†æ­¦å™¨ï¼" },
            { rank: 26, animal: "å…”å­ ğŸ°", lengthText: "2 - 3 å…¬åˆ†", lengthSort: 2.5, ejaculationText: "ä¸€ç¬é–“çš„äº‹ï¼", ejaculationSort: 5, notes: "ç¹æ®–åŠ›è¶…å¼·çš„ç‰ å€‘ï¼Œäº¤é…ä¹Ÿè¶…ç´šè¿…é€Ÿï¼" },
            { rank: 27, animal: "è€é¼  ğŸ­", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "çœ¨çœ¼åŠŸå¤«ï¼", ejaculationSort: 5, notes: "" },
            { rank: 28, animal: "å€‰é¼  ğŸ¹", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "è¶…å…‰é€Ÿå®Œæˆï¼", ejaculationSort: 5, notes: "" },
            { rank: 29, animal: "é¼´é¼  ğŸ•³ï¸", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "åœ°ä¸‹ä¸–ç•Œçš„ç§˜å¯†ï¼", ejaculationSort: Infinity, notes: "ç”Ÿæ´»åœ¨åœ°ä¸‹ï¼Œé€£é€™æ–¹é¢ä¹Ÿå……æ»¿ç¥ç§˜æ„Ÿï¼" },
            { rank: 30, animal: "é¼©é¼± ğŸ", lengthText: "0.5 - 1 å…¬åˆ†", lengthSort: 0.75, ejaculationText: "å°åˆ°çœ‹ä¸è¦‹çš„ç¬é–“ï¼", ejaculationSort: Infinity, notes: "é«”å‹éå¸¸å°ï¼Œé™°è–ä¹Ÿè¿·ä½ åˆ°ä¸è¡Œï¼Œä½†ä¾ç„¶èƒ½ç¹è¡å¾Œä»£ï¼" }
        ];

        // å¿«å•å¿«ç­”æ•¸æ“š
        const qaData = [
            { question: "è—é¯¨çš„ã€Œé‚£è©±å…’ã€æœ‰å¤šé•·ï¼Ÿ", answer: "ç´„ç­‰æ–¼ä¸€è¼›å°å‹å…¬è»Šçš„é•·åº¦ï¼çµ•å°æ˜¯å‹•ç‰©ç•Œçš„ã€Œå·¨ç„¡éœ¸ã€ï¼" },
            { question: "é™¸åœ°ä¸Šé™°è–æœ€é•·çš„å‹•ç‰©æ˜¯èª°ï¼Ÿ", answer: "éæ´²è±¡ï¼ç‰ çš„ã€Œé‚£è©±å…’ã€å¹¾ä¹å’Œä¸€å€‹æˆå¹´äººä¸€æ¨£é«˜ï¼" },
            { question: "ç‚ºä»€éº¼ç‹—å’Œç‹¼äº¤é…æ™‚é–“æœƒå¾ˆé•·ï¼Ÿ", answer: "å› ç‚ºç‰ å€‘åœ¨äº¤é…å¾Œæœƒå‡ºç¾ã€Œé–å®šã€ç¾è±¡ï¼Œé€™æ˜¯ç‚ºäº†ç¢ºä¿å—å­•æˆåŠŸç‡å–”ï¼" },
            { question: "è²“ç§‘å‹•ç‰©çš„é™°è–ä¸Šç‚ºä»€éº¼æœƒæœ‰å€’åˆºï¼Ÿ", answer: "é€™æ˜¯ç‚ºäº†åˆºæ¿€é›Œæ€§æ’åµï¼Œæé«˜ç¹æ®–æ•ˆç‡ï¼" },
            { question: "è±¬çš„é™°è–æœ‰ä»€éº¼ç‰¹åˆ¥ä¹‹è™•ï¼Ÿ", answer: "ç‰ çš„ã€Œé‚£è©±å…’ã€æ˜¯ç¨ç‰¹çš„èºæ—‹ç‹€ï¼Œç‚ºäº†æ›´ã€Œç·Šå¯†ã€çš„çµåˆï¼" },
            { question: "æµ·è±¡çš„ã€Œé‚£è©±å…’ã€è£¡æœ‰ä»€éº¼ç‰¹åˆ¥çš„éª¨é ­ï¼Ÿ", answer: "ç‰ çš„ã€Œé‚£è©±å…’ã€è£¡è—è‘—ä¸€æ ¹å‹•ç‰©ç•Œæœ€é•·çš„é™°è–éª¨ï¼Œè¶³è¶³æœ‰ä½ çš„å¤§è…¿éª¨é‚£éº¼é•·ï¼" },
            { question: "å¤§çŒ©çŒ©çš„é«”å‹é‚£éº¼å¤§ï¼Œç‰ çš„é™°è–ä¹Ÿå¾ˆå¤§å—ï¼Ÿ", answer: "éŒ¯ï¼ç‰ çš„ã€Œé‚£è©±å…’ã€å»æ˜¯ç›¸å°è¼ƒå°çš„ï¼Œé€™å‘Šè¨´æˆ‘å€‘ï¼Œå°ºå¯¸ä¸ä¸€å®šèˆ‡é«”å‹æˆæ­£æ¯”å–”ï¼" },
            { question: "å‹•ç‰©ç•Œçš„é–ƒé›»ä¿ æ˜¯èª°ï¼Ÿ", answer: "è¨±å¤šå‹•ç‰©çš„å°„ç²¾æ™‚é–“éƒ½éå¸¸çŸ­ï¼Œä¾‹å¦‚å…¬ç‰›ã€é•·é ¸é¹¿ã€ç¾Šã€å…”å­ç­‰ï¼Œç‰ å€‘çš„äº¤é…éç¨‹éƒ½éå¸¸è¿…é€Ÿï¼Œå ªç¨±å‹•ç‰©ç•Œçš„ã€Œé–ƒé›»ä¿ ã€ï¼" },
            { question: "å‹•ç‰©ç•Œçš„æ…¢éƒä¸­æ˜¯èª°ï¼Ÿ", answer: "åœ¨å“ºä¹³é¡å‹•ç‰©ä¸­ï¼Œç‹—å’Œç‹¼çš„å°„ç²¾æ™‚é–“ç›¸å°è¼ƒé•·ï¼Œå› ç‚ºç‰ å€‘æœ‰ã€Œé–å®šã€ç¾è±¡ï¼Œå¯ä»¥æŒçºŒæ•¸åˆ†é˜ç”šè‡³åŠå°æ™‚ï¼" },
            // æ–°å¢çš„æ·±åº¦é¡Œç›®
            { question: "æ ¹æ“šè¡¨æ ¼ï¼Œè—é¯¨æ˜¯é«”å‹æœ€å¤§çš„å‹•ç‰©ï¼Œæ“æœ‰æœ€å¤§çš„é™°è–ã€‚ç„¶è€Œï¼Œå¤§çŒ©çŒ©é«”å‹é¾å¤§ï¼Œé™°è–å»ç›¸å°è¼ƒå°ã€‚é€™èªªæ˜äº†ä»€éº¼é—œæ–¼å‹•ç‰©é«”å‹å’Œé™°è–å°ºå¯¸ä¹‹é–“çš„é—œä¿‚ï¼Ÿ", answer: "é€™èªªæ˜å‹•ç‰©çš„é™°è–å°ºå¯¸ä¸ä¸€å®šèˆ‡å…¶æ•´é«”é«”å‹æˆæ­£æ¯”ã€‚ä¸åŒç‰©ç¨®çš„ç”Ÿæ®–ç­–ç•¥å’Œæ¼”åŒ–å£“åŠ›æœƒå°è‡´é™°è–å°ºå¯¸çš„å·¨å¤§å·®ç•°ï¼Œå³ä½¿æ˜¯é«”å‹ç›¸è¿‘çš„å‹•ç‰©ä¹Ÿå¯èƒ½å¦‚æ­¤ã€‚" },
            { question: "å°„ç²¾æ™‚é–“çš„é•·çŸ­å¯èƒ½èˆ‡å‹•ç‰©çš„ç”Ÿæ®–ç­–ç•¥æˆ–ç”Ÿå­˜ç’°å¢ƒæœ‰é—œã€‚ä½ èªç‚ºè¡¨æ ¼ä¸­å°„ç²¾æ™‚é–“æ¥µçŸ­å’Œç›¸å°è¼ƒé•·çš„å‹•ç‰©ï¼Œå„è‡ªå¯èƒ½é¢è‡¨ä»€éº¼ä¸åŒçš„æ¼”åŒ–å£“åŠ›ï¼Ÿ", answer: "å°„ç²¾æ™‚é–“çš„é•·çŸ­å¯èƒ½åæ˜ äº†ä¸åŒçš„ç”Ÿæ®–ç­–ç•¥ã€‚å¿«é€Ÿå°„ç²¾çš„å‹•ç‰©å¯èƒ½éœ€è¦åœ¨çŸ­æ™‚é–“å…§å®Œæˆäº¤é…ä»¥é¿å…æ•é£Ÿè€…æˆ–ç«¶çˆ­è€…ï¼›è€Œå°„ç²¾æ™‚é–“è¼ƒé•·çš„å‹•ç‰©ï¼ˆå¦‚ç‹—çš„ã€Œé–å®šã€ï¼‰å¯èƒ½æ—¨åœ¨ç¢ºä¿ç²¾å­èƒ½æ›´æœ‰æ•ˆåœ°å—å­•ï¼Œæ¸›å°‘ç²¾å­ç«¶çˆ­ï¼Œæˆ–åœ¨ç‰¹å®šäº¤é…ç³»çµ±ä¸­ç™¼æ®ä½œç”¨ã€‚" },
            { question: "è¡¨æ ¼ä¸­æåˆ°è²“ç§‘å‹•ç‰©é™°è–æœ‰å€’åˆºï¼Œè±¬çš„é™°è–å‘ˆèºæ—‹ç‹€ã€‚é€™äº›ç‰¹æ®Šçš„é™°è–çµæ§‹å°ç‰ å€‘çš„ç¹æ®–æœ‰ä½•å¹«åŠ©ï¼Ÿ", answer: "é€™äº›ç‰¹æ®Šçµæ§‹æ˜¯ç‚ºäº†é©æ‡‰ä¸åŒçš„ç”Ÿæ®–éœ€æ±‚ã€‚è²“ç§‘å‹•ç‰©çš„å€’åˆºèƒ½åˆºæ¿€é›Œæ€§æ’åµï¼Œæé«˜å—å­•ç‡ã€‚è±¬çš„èºæ—‹ç‹€é™°è–å‰‡èƒ½æ›´å¥½åœ°é©æ‡‰é›Œæ€§ç”Ÿæ®–é“çš„èºæ—‹å½¢ç‹€ï¼Œç¢ºä¿ç²¾å­èƒ½æ›´æœ‰æ•ˆåœ°é€é”ã€‚é€™äº›éƒ½æ˜¯ç‚ºäº†æœ€å¤§åŒ–ç¹æ®–æˆåŠŸç‡çš„æ¼”åŒ–é©æ‡‰ã€‚" }
        ];

        const tableBody = document.getElementById('mammal-table-body');
        let currentSortColumn = 'rank'; // é è¨­æ’åºæ¬„ä½æ”¹ç‚º 'rank'
        let currentSortDirection = 'asc'; // é è¨­æ’åºæ–¹å‘æ”¹ç‚º 'asc' (ç”±å°åˆ°å¤§)

        // å¿«å•å¿«ç­”ç›¸é—œå…ƒç´ 
        const qaQuestion = document.getElementById('qa-question');
        const qaAnswer = document.getElementById('qa-answer');
        const showAnswerBtn = document.getElementById('show-answer-btn');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const restartQuizBtn = document.getElementById('restart-quiz-btn');

        let shuffledQaData = []; // ç”¨æ–¼å„²å­˜æ‰“äº‚å¾Œçš„é¡Œç›®
        let currentQaIndex = 0;

        // è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—ç›¸é—œå…ƒç´ 
        const funNoteModalOverlay = document.getElementById('fun-note-modal-overlay');
        const funNoteModalCloseBtn = document.getElementById('fun-note-modal-close');
        const modalAnimalName = document.getElementById('modal-animal-name');
        const modalFunNote = document.getElementById('modal-fun-note');


        // åˆå§‹åŒ– Tone.js åˆæˆå™¨
        const synth = new Tone.Synth().toDestination();

        // æ’­æ”¾æ»´ç­”è²çš„å‡½æ•¸
        function playTickSound() {
            // åœ¨æ’­æ”¾éŸ³æ•ˆå‰æª¢æŸ¥ AudioContext ç‹€æ…‹ä¸¦å˜—è©¦æ¢å¾©
            if (Tone.context.state !== 'running') {
                // å¦‚æœ AudioContext å°šæœªé‹è¡Œï¼Œå˜—è©¦æ¢å¾©ä¸¦åœ¨æ¢å¾©å¾Œæ’­æ”¾éŸ³æ•ˆ
                Tone.context.resume().then(() => {
                    // ä½¿ç”¨ Tone.context.currentTime é¿å…é‡è¤‡è§¸ç™¼æ™‚ç™¼ç”Ÿæ™‚é–“éŒ¯èª¤
                    synth.triggerAttackRelease("C4", "8n", Tone.context.currentTime);
                });
            } else {
                // å¦‚æœ AudioContext å·²ç¶“é‹è¡Œï¼Œç›´æ¥æ’­æ”¾éŸ³æ•ˆ
                synth.triggerAttackRelease("C4", "8n", Tone.context.currentTime);
            }
        }

        // Fisher-Yates æ´—ç‰Œæ¼”ç®—æ³•
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // äº¤æ›å…ƒç´ 
            }
            return array;
        }

        // æ¸²æŸ“è¡¨æ ¼å…§å®¹çš„å‡½æ•¸
        function renderTable(data) {
            tableBody.innerHTML = ''; // æ¸…ç©ºç¾æœ‰å…§å®¹
            // éæ¿¾æ•¸æ“šï¼Œåªé¡¯ç¤ºæ’ååœ¨ 30 æˆ–ä»¥ä¸‹çš„å‹•ç‰©
            const filteredData = data.filter(item => item.rank <= 30);

            filteredData.forEach((item, index) => {
                const row = document.createElement('tr');
                row.classList.add('hover:bg-pink-50', 'transition-all', 'duration-200', 'ease-in-out');

                // å¶æ•¸è¡Œæ·»åŠ èƒŒæ™¯è‰²ï¼Œå¢åŠ å¯è®€æ€§ (åŸºæ–¼ç•¶å‰ç´¢å¼•)
                if (index % 2 === 0) {
                    row.classList.add('bg-gray-50');
                }

                // æ¨™ç¤ºäººé¡è¡Œ
                if (item.animal.includes('äººé¡')) { // æª¢æŸ¥æ˜¯å¦åŒ…å«ã€Œäººé¡ã€
                    row.classList.add('highlight-human');
                }

                // æº–å‚™å‹•ç‰©åç¨±çš„é¡¯ç¤ºå…§å®¹
                let animalContentHtml;
                if (item.rank === 1) { // åªæœ‰ç•¶æ’åç‚º1æ™‚æ‰åŠ ä¸Šçš‡å† 
                    animalContentHtml = `
                        <div class="animal-cell-content">
                            <span class="crown-emoji">ğŸ‘‘</span>
                            <button type="button" class="animal-name-button" data-animal="${item.animal}" data-note="${item.notes}">${item.animal}</button>
                        </div>
                    `;
                } else {
                    animalContentHtml = `
                        <div class="animal-cell-content">
                            <button type="button" class="animal-name-button" data-animal="${item.animal}" data-note="${item.notes}">${item.animal}</button>
                        </div>
                    `;
                }


                row.innerHTML = `
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.rank}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${animalContentHtml}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.lengthText}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.ejaculationText}</td>
                `;
                tableBody.appendChild(row);
            });

            // åœ¨æ‰€æœ‰è¡Œæ¸²æŸ“å®Œç•¢å¾Œï¼Œç‚ºæ‰€æœ‰ animal-name-button æ·»åŠ äº‹ä»¶ç›£è½å™¨
            document.querySelectorAll('.animal-name-button').forEach(button => {
                button.addEventListener('click', (event) => {
                    const animal = event.target.dataset.animal;
                    const note = event.target.dataset.note;
                    showFunNoteModal(animal, note);
                });
            });
        }

        // æ’åºè¡¨æ ¼çš„å‡½æ•¸
        function sortTable(column) {
            // å¦‚æœé»æ“Šçš„æ˜¯ç•¶å‰æ’åºæ¬„ä½ï¼Œå‰‡åˆ‡æ›æ’åºæ–¹å‘
            if (currentSortColumn === column) {
                currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                // å¦å‰‡ï¼Œè¨­å®šæ–°çš„æ’åºæ¬„ä½ä¸¦é‡ç½®ç‚ºå‡åº
                currentSortColumn = column;
                currentSortDirection = 'asc';
            }

            // æ¸…é™¤æ‰€æœ‰ç®­é ­æ¨£å¼
            document.querySelectorAll('.sort-arrow').forEach(arrow => {
                arrow.classList.remove('sort-asc', 'sort-desc');
            });

            // æ ¹æ“šæ’åºæ–¹å‘æ·»åŠ ç®­é ­æ¨£å¼
            const currentArrow = document.getElementById(`sort-${column}`);
            if (currentArrow) {
                currentArrow.classList.add(currentSortDirection === 'asc' ? 'sort-asc' : 'sort-desc');
            }

            // åŸ·è¡Œæ’åº
            const sortedData = [...mammalData].sort((a, b) => {
                let valA = a[column];
                let valB = b[column];

                // è™•ç†å­—ç¬¦ä¸²æ’åº
                if (typeof valA === 'string' && typeof valB === 'string') {
                    return currentSortDirection === 'asc' ? valA.localeCompare(valB) : valB.localeCompare(valA);
                }
                // è™•ç†æ•¸å­—æ’åºï¼ŒåŒ…æ‹¬ Infinity (ä¸è©³) çš„æƒ…æ³
                if (valA === Infinity && valB !== Infinity) return currentSortDirection === 'asc' ? 1 : -1;
                if (valB === Infinity && valA !== Infinity) return currentSortDirection === 'asc' ? -1 : 1;
                if (valA === Infinity && valB === Infinity) return 0; // å…©å€‹éƒ½æ˜¯ Infinity å‰‡è¦–ç‚ºç›¸ç­‰

                return currentSortDirection === 'asc' ? valA - valB : valB - valA;
            });

            renderTable(sortedData); // é‡æ–°æ¸²æŸ“è¡¨æ ¼
        }

        // ç‚ºå¯æ’åºçš„æ¨™é ­æ·»åŠ é»æ“Šäº‹ä»¶ç›£è½å™¨
        document.querySelectorAll('th[data-sort-by]').forEach(header => {
            header.addEventListener('click', () => {
                const sortBy = header.getAttribute('data-sort-by');
                sortTable(sortBy);
            });
        });

        // å¿«å•å¿«ç­”å‡½æ•¸
        function displayQuestion() {
            if (currentQaIndex < shuffledQaData.length) {
                qaQuestion.textContent = `Q${currentQaIndex + 1}: ${shuffledQaData[currentQaIndex].question}`;
                qaAnswer.textContent = shuffledQaData[currentQaIndex].answer;
                qaAnswer.classList.add('hidden'); // é è¨­éš±è—ç­”æ¡ˆ
                showAnswerBtn.classList.remove('hidden');
                nextQuestionBtn.classList.remove('hidden');
                restartQuizBtn.classList.add('hidden');
                playTickSound(); // é¡¯ç¤ºæ–°é¡Œç›®æ™‚æ’­æ”¾æ»´ç­”è²
            } else {
                // æ‰€æœ‰å•é¡Œéƒ½å›ç­”å®Œç•¢
                qaQuestion.textContent = "æ­å–œä½ ï¼æ‰€æœ‰å•é¡Œéƒ½å›ç­”å®Œç•¢äº†ï¼ğŸ‰";
                qaAnswer.textContent = "é»æ“Šã€Œé‡æ–°é–‹å§‹ã€å†æ¬¡æŒ‘æˆ°å§ï¼";
                qaAnswer.classList.remove('hidden');
                showAnswerBtn.classList.add('hidden');
                nextQuestionBtn.classList.add('hidden');
                restartQuizBtn.classList.remove('hidden');
            }
        }

        function showAnswer() {
            qaAnswer.classList.remove('hidden');
            showAnswerBtn.classList.add('hidden');
        }

        function nextQuestion() {
            currentQaIndex++;
            displayQuestion();
        }

        function restartQuiz() {
            currentQaIndex = 0;
            shuffledQaData = shuffleArray([...qaData]); // é‡æ–°æ‰“äº‚é¡Œç›®
            displayQuestion();
        }

        // äº‹ä»¶ç›£è½å™¨
        showAnswerBtn.addEventListener('click', showAnswer);
        nextQuestionBtn.addEventListener('click', nextQuestion);
        restartQuizBtn.addEventListener('click', restartQuiz);

        // é¡¯ç¤ºè¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—
        function showFunNoteModal(animal, note) {
            modalAnimalName.textContent = animal;
            modalFunNote.textContent = note;
            funNoteModalOverlay.classList.remove('hidden');
        }

        // é—œé–‰è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—
        function closeFunNoteModal() {
            funNoteModalOverlay.classList.add('hidden');
        }

        // å½ˆå‡ºè¦–çª—é—œé–‰æŒ‰éˆ•äº‹ä»¶
        funNoteModalCloseBtn.addEventListener('click', closeFunNoteModal);

        // é»æ“Šå½ˆå‡ºè¦–çª—å¤–éƒ¨é—œé–‰è¦–çª—
        funNoteModalOverlay.addEventListener('click', (event) => {
            if (event.target === funNoteModalOverlay) {
                closeFunNoteModal();
            }
        });


        // é é¢è¼‰å…¥æ™‚ï¼Œé è¨­ä»¥æ’åï¼ˆç”±å°åˆ°å¤§ï¼‰æ’åºä¸¦æ¸²æŸ“è¡¨æ ¼ï¼ŒåŒæ™‚åˆå§‹åŒ–å¿«å•å¿«ç­”
        window.onload = () => {
            // åˆå§‹æ¸²æŸ“ï¼šç›´æ¥ä»¥ rank å‡åºæ’åºä¸¦æ¸²æŸ“
            const initialSortedData = [...mammalData].sort((a, b) => a.rank - b.rank); // æ ¹æ“š rank é€²è¡Œå‡åºæ’åº
            renderTable(initialSortedData);

            // è¨­å®šåˆå§‹æ’åºç‹€æ…‹ï¼Œä»¥ä¾¿å¾ŒçºŒé»æ“Šèƒ½æ­£ç¢ºåˆ‡æ›
            currentSortColumn = 'rank';
            currentSortDirection = 'asc';

            // æ‰‹å‹•è¨­å®šåˆå§‹æ’åºç®­é ­
            const initialArrow = document.getElementById(`sort-${currentSortColumn}`);
            if (initialArrow) {
                initialArrow.classList.add('sort-asc'); // é è¨­ç‚ºå‡åºç®­é ­
            }

            // åˆå§‹åŒ–å¿«å•å¿«ç­”ï¼šæ‰“äº‚é¡Œç›®ä¸¦é¡¯ç¤ºç¬¬ä¸€é¡Œ
            shuffledQaData = shuffleArray([...qaData]);
            displayQuestion();
        };
    </script>
</body>
</html>

            transform: translateY(0); /* ç¦ç”¨æ™‚ç„¡å‹•ç•« */
        }
        /* äººé¡è¡Œæ¨™ç¤ºæ¨£å¼ */
        .highlight-human {
            background-color: #fffacd !important; /* æ·ºé»ƒè‰²èƒŒæ™¯ */
            font-weight: bold;
            color: #8b4513; /* æ·±æ£•è‰²æ–‡å­— */
        }
        /* çš‡å† è¡¨æƒ…ç¬¦è™Ÿçš„æ¨£å¼ */
        .crown-emoji {
            font-size: 1.8em; /* è®“çš‡å† æ›´å¤§ */
            line-height: 1; /* èª¿æ•´è¡Œé«˜ä»¥æ›´å¥½åœ°å®šä½ */
            display: block; /* è®“çš‡å† ç¨ä½”ä¸€è¡Œ */
            margin-bottom: 0.2em; /* å¢åŠ èˆ‡æ–‡å­—çš„é–“è· */
        }
        /* åŒ…å«çš‡å† å’Œå‹•ç‰©åç¨±çš„å–®å…ƒæ ¼æ¨£å¼ */
        .animal-cell-content {
            display: flex;
            flex-direction: column; /* å‚ç›´æ’åˆ— */
            align-items: center; /* æ°´å¹³å±…ä¸­ */
            justify-content: center; /* å‚ç›´å±…ä¸­ */
            text-align: center; /* æ–‡å­—å±…ä¸­ */
            height: 100%; /* è®“å…§å®¹ä½”æ»¿å–®å…ƒæ ¼é«˜åº¦ */
        }
        /* å‹•ç‰©åç¨±æŒ‰éˆ•æ¨£å¼ */
        .animal-name-button {
            @apply bg-transparent text-gray-800 font-semibold py-1 px-2 rounded-md;
            @apply hover:underline hover:text-pink-600 transition-colors duration-150;
            cursor: pointer;
            border: none; /* ç§»é™¤é è¨­æŒ‰éˆ•é‚Šæ¡† */
            display: inline-block; /* å…è¨±æ–‡å­—æ›è¡Œ */
            white-space: normal; /* å…è¨±æ–‡å­—æ›è¡Œ */
            line-height: 1.2; /* èª¿æ•´è¡Œé«˜è®“æ–‡å­—æ›´ç·Šæ¹Š */
        }
        .highlight-human .animal-name-button {
            @apply text-orange-800; /* èª¿æ•´é«˜äº®è¡Œæ–‡å­—é¡è‰² */
        }

        /* è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—æ¨£å¼ */
        .fun-note-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000; /* ç¢ºä¿åœ¨æœ€ä¸Šå±¤ */
        }

        .fun-note-modal-content {
            background-color: #fff;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            max-width: 90%;
            width: 400px; /* ç·Šæ¹Šçš„å›ºå®šå¯¬åº¦ */
            position: relative;
            animation: fadeInScale 0.3s ease-out forwards; /* åŠ å…¥å‹•ç•« */
        }

        .fun-note-modal-close {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #9ca3af; /* ç°è‰² */
            cursor: pointer;
            padding: 0.25rem;
            line-height: 1;
            transition: color 0.2s ease-in-out;
        }

        .fun-note-modal-close:hover {
            color: #ef4444; /* ç´…è‰² */
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center">
    <div class="bg-white rounded-lg shadow-2xl p-6 max-w-5xl w-full my-8">
        <h1 class="text-4xl font-extrabold text-center text-pink-600 mb-6 animate-pulse">
            èª°æœ€å±Œï¼ï¼Ÿ ğŸ† å“ºä¹³é¡å‹•ç‰©çš„ã€Œé‚£è©±å…’ã€å¤§å…¬é–‹ï¼ â±ï¸
        </h1>
        <p class="text-lg text-gray-700 text-center mb-4">
            å¥½å¥‡å‹•ç‰©ç•Œçš„ã€Œå°ºå¯¸ã€èˆ‡ã€ŒæŒä¹…åŠ›ã€å—ï¼Ÿä¸€èµ·ä¾†çœ‹çœ‹é€™äº›ä»¤äººé©šè¨ğŸ™€çš„æ•¸æ“šå§ï¼
        </p>
        <p class="text-lg text-gray-700 text-center mb-8 font-semibold text-purple-700">
            åˆ¥å¿˜äº†ï¼Œé é¢ä¸‹æ–¹é‚„æœ‰åˆºæ¿€çš„**å¿«å•å¿«ç­”**ç­‰ä½ ä¾†**æº–å‚™å¥½è…¦åŠ›æ¿€ç›ªäº†å—ï¼Ÿ**ğŸ§ 
        </p>

        <div class="overflow-x-auto rounded-lg border border-gray-200 shadow-md">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-pink-500 text-white">
                    <tr>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider rounded-tl-lg cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="rank">
                            æ’å
                            <span class="sort-arrow" id="sort-rank"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="animal">
                            å‹•ç‰©ç¨®é¡ ğŸ¾
                            <span class="sort-arrow" id="sort-animal"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="lengthSort">
                            å‹ƒèµ·é•·åº¦ (ç´„ç•¥) ğŸ“
                            <span class="sort-arrow" id="sort-lengthSort"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="ejaculationSort">
                            å°„ç²¾æ™‚é–“ (ç´„ç•¥) â±ï¸
                            <span class="sort-arrow" id="sort-ejaculationSort"></span>
                        </th>
                        <!-- è¶£å‘³å‚™è¨»æ¬„ä½å·²ç§»é™¤ -->
                    </tr>
                </thead>
                <tbody id="mammal-table-body" class="bg-white divide-y divide-gray-200">
                    <!-- è¡¨æ ¼å…§å®¹å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
                </tbody>
            </table>
        </div>

        <!-- åŒå ´åŠ æ˜ ï¼šæŒä¹…ç‹æ’åå€å¡Š (é‡æ–°æ’ç‰ˆ) -->
        <div class="bg-blue-100 rounded-lg shadow-md p-6 mt-8 border-l-4 border-blue-500">
            <h2 class="text-center text-2xl font-bold text-blue-800 mb-6">ğŸ‘‘ åŒå ´åŠ æ˜ ï¼šå“ºä¹³é¡çš„ã€ŒæŒä¹…ç‹ã€æ’å ğŸ‘‘</h2>
            <div class="overflow-x-auto rounded-lg border border-blue-200">
                <table class="w-full text-left table-auto">
                    <thead class="bg-blue-600 text-white">
                        <tr>
                            <th class="px-4 py-3 text-sm font-semibold rounded-tl-lg">æ’å</th>
                            <th class="px-4 py-3 text-sm font-semibold">å‹•ç‰©</th>
                            <th class="px-4 py-3 text-sm font-semibold">ç‰¹è‰²</th>
                            <th class="px-4 py-3 text-sm font-semibold rounded-tr-lg">å¹³å‡äº¤é…æ™‚é–“</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">1ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">æœè </td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">äº¤é…å¯é•·é” 6â€“12 å°æ™‚ï¼Œä¸­é–“å¹¾ä¹ä¸ä¼‘æ¯ï¼Œç®—æ˜¯å“ºä¹³é¡ç•Œæœ€é©šäººçš„é¦¬æ‹‰æ¾å‹é¸æ‰‹</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">6â€“12 å°æ™‚</td>
                        </tr>
                        <tr class="bg-blue-50 border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">2ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">ç…å­</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">é›–ç„¶å–®æ¬¡åªæœ‰ 30â€“60 ç§’ï¼Œä½† 24 å°æ™‚å…§èƒ½äº¤é… 20â€“40 æ¬¡ï¼Œç¸½æ™‚æ•¸ç´¯ç©æè¶…éæœè </td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">å¤šæ¬¡ç´¯ç©æ•¸å°æ™‚</td>
                        </tr>
                        <tr class="border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">3ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">å€­é»‘çŒ©çŒ©</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">ç¤¾äº¤å‹äº¤é…ï¼Œé »ç‡é«˜ã€æ™‚é–“é•·ï¼Œå¸¸æœ‰ã€Œé•·æ™‚é–“æ„›æ’«èˆ‡é…å°è¡Œç‚ºã€ï¼Œå¯æŒçºŒ 30â€“60 åˆ†é˜</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">30â€“60 åˆ†é˜</td>
                        </tr>
                        <tr class="bg-blue-50 border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">4ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">ç°é¯¨</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">äº¤é…å¸¸æ˜¯ã€Œä¸‰äººè¡Œã€ï¼Œäº’ç›¸å”åŠ©é…å°ï¼Œæ™‚é–“å¯æŒçºŒ 30 åˆ†é˜ä»¥ä¸Š</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">30 åˆ†é˜ä»¥ä¸Š</td>
                        </tr>
                        <tr class="border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">5ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">æµ·è±š</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">äº¤é…é »ç¹ï¼Œé›–ç„¶æ¯æ¬¡åƒ…æ•¸åç§’ï¼Œä½†å‰æˆ²é•·ã€äº’å‹•é »ç¹ï¼Œæ˜¯ã€Œè€åŠ›ç¤¾äº¤æ´¾ã€</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">å¤šæ¬¡ç´¯ç©</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- å¿«å•å¿«ç­”å€å¡Š -->
        <div class="fun-facts-section">
            <h2 class="text-center text-2xl font-bold mb-4">ğŸ§  å¿«å•å¿«ç­”æ™‚é–“ï¼è€ƒè€ƒä½ å°å‹•ç‰©çš„äº†è§£ï¼ ğŸ’¡</h2>
            <div id="qa-container" class="text-center p-4">
                <p id="qa-question" class="text-xl font-semibold text-gray-800 mb-4"></p>
                <p id="qa-answer" class="text-lg text-gray-700 mb-6 hidden"></p>
                <div class="space-x-4">
                    <button id="show-answer-btn" class="qa-button">é¡¯ç¤ºç­”æ¡ˆ</button>
                    <button id="next-question-btn" class="qa-button">ä¸‹ä¸€é¡Œ</button>
                    <button id="restart-quiz-btn" class="qa-button hidden">é‡æ–°é–‹å§‹</button>
                </div>
            </div>
        </div>

        <p class="text-sm text-gray-600 mt-6 text-center">
            <strong class="font-semibold">å…è²¬è²æ˜ï¼š</strong> é€™äº›æ•¸æ“šä¸»è¦ä¾†è‡ªç§‘å­¸ç ”ç©¶å’Œè§€å¯Ÿï¼Œä½†å¯¦éš›æƒ…æ³å¯èƒ½å› å€‹é«”ã€ç’°å¢ƒå’Œæ¸¬é‡æ–¹æ³•è€Œç•°ã€‚
        </p>
    </div>

    <!-- è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª— (Modal) -->
    <div id="fun-note-modal-overlay" class="fun-note-modal-overlay hidden">
        <div class="fun-note-modal-content">
            <button id="fun-note-modal-close" class="fun-note-modal-close">&times;</button>
            <h3 id="modal-animal-name" class="text-2xl font-bold text-pink-600 mb-3 text-center"></h3>
            <p id="modal-fun-note" class="text-gray-700 text-base leading-relaxed"></p>
        </div>
    </div>

    <script>
        // å“ºä¹³é¡å‹•ç‰©æ•¸æ“šï¼ŒåŠ å…¥æ›´å¤šè¶£å‘³æè¿°å’Œæ’åºç”¨çš„æ•¸å€¼
        // åƒ…ä¿ç•™æ’å 1 åˆ° 30 çš„å‹•ç‰©
        const mammalData = [
            { rank: 1, animal: "è—é¯¨ ğŸ³", lengthText: "240 - 300 å…¬åˆ† (ç´„ä¸€å°å…¬è»Šé•·)", lengthSort: 270, ejaculationText: "æ·±æµ·ç§˜å¯†ï¼Œå°šå¾…æ¢ç´¢ï¼", ejaculationSort: Infinity, notes: "åœ°çƒä¸Šé«”å‹æœ€å¤§çš„å‹•ç‰©ï¼Œå…¶é™°è–ä¹Ÿæ˜¯å·²çŸ¥å‹•ç‰©ä¸­æœ€å¤§çš„ï¼Œç°¡ç›´æ˜¯æµ·æ´‹å·¨ç„¡éœ¸ï¼" },
            { rank: 2, animal: "éæ´²è±¡ ğŸ˜", lengthText: "100 - 180 å…¬åˆ† (ç´„ä¸€å€‹æˆå¹´äººé«˜)", lengthSort: 140, ejaculationText: "é–ƒé›»èˆ¬è¿…é€Ÿï¼", ejaculationSort: 60, notes: "é™¸åœ°ä¸Šé™°è–æœ€é•·çš„å‹•ç‰©ï¼Œå¨é¢¨å‡œå‡œï¼" },
            { rank: 3, animal: "å…¬ç‰› ğŸ‚", lengthText: "80 - 100 å…¬åˆ†", lengthSort: 90, ejaculationText: "ä¸€çœ¨çœ¼å°±æå®šï¼", ejaculationSort: 5, notes: "å®ƒçš„ã€Œé‚£è©±å…’ã€ä¸»è¦æ˜¯ä¼¸é•·ï¼Œè€Œä¸æ˜¯è®Šç²—ï¼Œæ•ˆç‡è‡³ä¸Šï¼" },
            { rank: 4, animal: "é•·é ¸é¹¿ ğŸ¦’", lengthText: "70 - 100 å…¬åˆ†", lengthSort: 85, ejaculationText: "å’»ä¸€ä¸‹å°±å®Œæˆäº†ï¼", ejaculationSort: 5, notes: "é«˜é«˜åœ¨ä¸Šçš„ç‰ å€‘ï¼Œé€£é€™æ–¹é¢ä¹Ÿèˆ‡çœ¾ä¸åŒï¼" },
            { rank: 5, animal: "æµ·è±¡ ğŸ¦­", lengthText: "60 - 75 å…¬åˆ†", lengthSort: 67.5, ejaculationText: "å†°æµ·ä¹‹è¬ï¼", ejaculationSort: Infinity, notes: "æ“æœ‰æ‰€æœ‰å“ºä¹³å‹•ç‰©ä¸­æœ€é•·çš„é™°è–éª¨ï¼Œç¡¬åº¦é©šäººï¼" },
            { rank: 6, animal: "é¦¬ ğŸ", lengthText: "50 - 100 å…¬åˆ†", lengthSort: 75, ejaculationText: "å¹¾ç§’é˜çš„äº‹ï¼", ejaculationSort: 30, notes: "å‹ƒèµ·æ™‚é•·åº¦å¯é”å¹³æ™‚çš„å…©å€ï¼Œè®ŠåŒ–è¶…å¤§ï¼" },
            { rank: 7, animal: "è±¬ ğŸ–", lengthText: "30 - 50 å…¬åˆ†", lengthSort: 40, ejaculationText: "è€å¿ƒç­‰å¾… 5-15 åˆ†é˜ï¼", ejaculationSort: 600, notes: "ç¨ç‰¹çš„èºæ—‹ç‹€é™°è–ï¼Œç‚ºäº†æ›´ã€Œç·Šå¯†ã€çš„çµåˆï¼" },
            { rank: 8, animal: "é©¢ ğŸ´", lengthText: "25 - 40 å…¬åˆ†", lengthSort: 32.5, ejaculationText: "ç¬é–“å®Œæˆï¼", ejaculationSort: 30, notes: "" },
            { rank: 9, animal: "ç°ç†Š ğŸ»", lengthText: "20 - 30 å…¬åˆ†", lengthSort: 25, ejaculationText: "æ£®æ—è£¡çš„ç§˜å¯†ï¼", ejaculationSort: Infinity, notes: "" },
            { rank: 10, animal: "é§±é§ ğŸª", lengthText: "20 - 30 å…¬åˆ†", lengthSort: 25, ejaculationText: "å¹¾åˆ†é˜çš„æµªæ¼«ï¼", ejaculationSort: 120, notes: "æ²™æ¼ ä¸­çš„è€åŠ›ç‹è€…ï¼Œé€£é€™æ–¹é¢ä¹Ÿå¾ˆæœ‰è€å¿ƒï¼" },
            { rank: 11, animal: "ç´…é¹¿ ğŸ¦Œ", lengthText: "15 - 25 å…¬åˆ†", lengthSort: 20, ejaculationText: "å¿«é€Ÿæå®šï¼", ejaculationSort: 5, notes: "" },
            { rank: 12, animal: "ç¾Š ğŸ‘", lengthText: "15 - 20 å…¬åˆ†", lengthSort: 17.5, ejaculationText: "å’»ä¸€ä¸‹å°±çµæŸäº†ï¼", ejaculationSort: 5, notes: "" },
            { rank: 13, animal: "å±±ç¾Š ğŸ", lengthText: "15 - 20 å…¬åˆ†", lengthSort: 17.5, ejaculationText: "ç¬é–“å®Œæˆï¼", ejaculationSort: 5, notes: "" },
            { rank: 14, animal: "äººé¡ ğŸ§", lengthText: "13 - 15 å…¬åˆ†", lengthSort: 14, ejaculationText: "æ•¸åˆ†é˜ï¼Œå› äººè€Œç•°ï¼", ejaculationSort: 120, notes: "å¹³å‡å‹ƒèµ·é•·åº¦ï¼Œä½†ã€Œå°ºå¯¸ã€å’Œã€Œæ™‚é–“ã€éƒ½æ˜¯å€‹é«”å·®ç•°å¾ˆå¤§çš„è©±é¡Œå–”ï¼" },
            { rank: 15, animal: "è€è™ ğŸ…", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "é›»å…‰ç«çŸ³ä¹‹é–“ï¼", ejaculationSort: 5, notes: "é™°è–å¸¶æœ‰å€’åˆºï¼Œç‚ºäº†å¿«é€Ÿåˆºæ¿€é›Œæ€§æ’åµï¼" },
            { rank: 16, animal: "ç…å­ ğŸ¦", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "è¿…é€Ÿæå®šï¼", ejaculationSort: 5, notes: "èˆ‡è€è™é¡ä¼¼ï¼Œä¹Ÿæ˜¯å¸¶åˆºçš„ã€Œé‚£è©±å…’ã€ï¼" },
            { rank: 17, animal: "ç‹— ğŸ¶", lengthText: "5 - 20 å…¬åˆ†", lengthSort: 12.5, ejaculationText: "5 - 30 åˆ†é˜ (é–å®šä¸­...)", ejaculationSort: 1000, notes: "äº¤é…æ™‚æœƒå‡ºç¾ã€Œé–å®šã€ç¾è±¡ï¼Œæ‰€ä»¥æ™‚é–“æœƒæ¯”è¼ƒé•·å–”ï¼" },
            { rank: 18, animal: "è¢‹é¼  ğŸ¦˜", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "å¾ˆå¿«çš„ï¼", ejaculationSort: 5, notes: "æ“æœ‰ç¨ç‰¹çš„é›™é ­é™°è–ï¼Œé©æ‡‰é›Œæ€§çš„é›™é™°é“çµæ§‹ï¼" },
            { rank: 19, animal: "ç‹¼ ğŸº", lengthText: "8 - 15 å…¬åˆ†", lengthSort: 11.5, ejaculationText: "5 - 30 åˆ†é˜ (é–å®šä¸­...)", ejaculationSort: 1000, notes: "å’Œç‹—ç‹—ä¸€æ¨£ï¼Œä¹Ÿæœƒæœ‰ã€Œé–å®šã€çš„ç‰¹æ®Šæ™‚åˆ»ï¼" },
            { rank: 20, animal: "ç†Šè²“ ğŸ¼", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "æº«æŸ”çš„å¹¾åˆ†é˜ï¼", ejaculationSort: 120, notes: "çœ‹ä¼¼ç¬¨æ‹™ï¼Œä½†é€™æ–¹é¢ä¹Ÿå¾ˆåŠªåŠ›ï¼" },
            { rank: 21, animal: "ç‹ç‹¸ ğŸ¦Š", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "å¹¾åˆ†é˜çš„æµªæ¼«ï¼", ejaculationSort: 120, notes: "" },
            { rank: 22, animal: "æ°´çº ğŸ¦¦", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "æ°´ä¸‹é€²è¡Œï¼Œæ™‚é–“ä¸è©³ï¼", ejaculationSort: 60, notes: "æ°´ä¸­çš„å°ç²¾éˆï¼Œäº¤é…ä¹Ÿå¾ˆæœ‰è¶£ï¼" },
            { rank: 23, animal: "è™è  ğŸ¦‡", lengthText: "1 - 5 å…¬åˆ†", lengthSort: 3, ejaculationText: "å¤œé–“è¡Œå‹•ï¼Œæ˜¯å€‹è¬ï¼", ejaculationSort: Infinity, notes: "ç¨®é¡ç¹å¤šï¼Œå°ºå¯¸ä¹Ÿå„ç•°ï¼Œä½†é€šå¸¸éƒ½å°å·§ç²ç“ï¼" },
            { rank: 24, animal: "å¤§çŒ©çŒ© ğŸ¦", lengthText: "3 - 4 å…¬åˆ†", lengthSort: 3.5, ejaculationText: "æ•¸ç§’è‡³æ•¸åˆ†é˜ï¼Œå¾ˆæœ‰æ•ˆç‡ï¼", ejaculationSort: 60, notes: "é«”å‹é›–å¤§ï¼Œä½†ã€Œé‚£è©±å…’ã€å»ç›¸å°è¿·ä½ ï¼Œè­‰æ˜å°ºå¯¸ä¸æ˜¯å”¯ä¸€ï¼" },
            { rank: 25, animal: "è²“ ğŸ±", lengthText: "2 - 3 å…¬åˆ†", lengthSort: 2.5, ejaculationText: "å¿«é€Ÿé–ƒé›»æˆ°ï¼", ejaculationSort: 5, notes: "é™°è–å¸¶æœ‰å€’åˆºï¼Œæ˜¯ç‚ºäº†åˆºæ¿€é›Œè²“æ’åµçš„ç§˜å¯†æ­¦å™¨ï¼" },
            { rank: 26, animal: "å…”å­ ğŸ°", lengthText: "2 - 3 å…¬åˆ†", lengthSort: 2.5, ejaculationText: "ä¸€ç¬é–“çš„äº‹ï¼", ejaculationSort: 5, notes: "ç¹æ®–åŠ›è¶…å¼·çš„ç‰ å€‘ï¼Œäº¤é…ä¹Ÿè¶…ç´šè¿…é€Ÿï¼" },
            { rank: 27, animal: "è€é¼  ğŸ­", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "çœ¨çœ¼åŠŸå¤«ï¼", ejaculationSort: 5, notes: "" },
            { rank: 28, animal: "å€‰é¼  ğŸ¹", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "è¶…å…‰é€Ÿå®Œæˆï¼", ejaculationSort: 5, notes: "" },
            { rank: 29, animal: "é¼´é¼  ğŸ•³ï¸", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "åœ°ä¸‹ä¸–ç•Œçš„ç§˜å¯†ï¼", ejaculationSort: Infinity, notes: "ç”Ÿæ´»åœ¨åœ°ä¸‹ï¼Œé€£é€™æ–¹é¢ä¹Ÿå……æ»¿ç¥ç§˜æ„Ÿï¼" },
            { rank: 30, animal: "é¼©é¼± ğŸ", lengthText: "0.5 - 1 å…¬åˆ†", lengthSort: 0.75, ejaculationText: "å°åˆ°çœ‹ä¸è¦‹çš„ç¬é–“ï¼", ejaculationSort: Infinity, notes: "é«”å‹éå¸¸å°ï¼Œé™°è–ä¹Ÿè¿·ä½ åˆ°ä¸è¡Œï¼Œä½†ä¾ç„¶èƒ½ç¹è¡å¾Œä»£ï¼" }
        ];

        // å¿«å•å¿«ç­”æ•¸æ“š
        const qaData = [
            { question: "è—é¯¨çš„ã€Œé‚£è©±å…’ã€æœ‰å¤šé•·ï¼Ÿ", answer: "ç´„ç­‰æ–¼ä¸€è¼›å°å‹å…¬è»Šçš„é•·åº¦ï¼çµ•å°æ˜¯å‹•ç‰©ç•Œçš„ã€Œå·¨ç„¡éœ¸ã€ï¼" },
            { question: "é™¸åœ°ä¸Šé™°è–æœ€é•·çš„å‹•ç‰©æ˜¯èª°ï¼Ÿ", answer: "éæ´²è±¡ï¼ç‰ çš„ã€Œé‚£è©±å…’ã€å¹¾ä¹å’Œä¸€å€‹æˆå¹´äººä¸€æ¨£é«˜ï¼" },
            { question: "ç‚ºä»€éº¼ç‹—å’Œç‹¼äº¤é…æ™‚é–“æœƒå¾ˆé•·ï¼Ÿ", answer: "å› ç‚ºç‰ å€‘åœ¨äº¤é…å¾Œæœƒå‡ºç¾ã€Œé–å®šã€ç¾è±¡ï¼Œé€™æ˜¯ç‚ºäº†ç¢ºä¿å—å­•æˆåŠŸç‡å–”ï¼" },
            { question: "è²“ç§‘å‹•ç‰©çš„é™°è–ä¸Šç‚ºä»€éº¼æœƒæœ‰å€’åˆºï¼Ÿ", answer: "é€™æ˜¯ç‚ºäº†åˆºæ¿€é›Œæ€§æ’åµï¼Œæé«˜ç¹æ®–æ•ˆç‡ï¼" },
            { question: "è±¬çš„é™°è–æœ‰ä»€éº¼ç‰¹åˆ¥ä¹‹è™•ï¼Ÿ", answer: "ç‰ çš„ã€Œé‚£è©±å…’ã€æ˜¯ç¨ç‰¹çš„èºæ—‹ç‹€ï¼Œç‚ºäº†æ›´ã€Œç·Šå¯†ã€çš„çµåˆï¼" },
            { question: "æµ·è±¡çš„ã€Œé‚£è©±å…’ã€è£¡æœ‰ä»€éº¼ç‰¹åˆ¥çš„éª¨é ­ï¼Ÿ", answer: "ç‰ çš„ã€Œé‚£è©±å…’ã€è£¡è—è‘—ä¸€æ ¹å‹•ç‰©ç•Œæœ€é•·çš„é™°è–éª¨ï¼Œè¶³è¶³æœ‰ä½ çš„å¤§è…¿éª¨é‚£éº¼é•·ï¼" },
            { question: "å¤§çŒ©çŒ©çš„é«”å‹é‚£éº¼å¤§ï¼Œç‰ çš„é™°è–ä¹Ÿå¾ˆå¤§å—ï¼Ÿ", answer: "éŒ¯ï¼ç‰ çš„ã€Œé‚£è©±å…’ã€å»æ˜¯ç›¸å°è¼ƒå°çš„ï¼Œé€™å‘Šè¨´æˆ‘å€‘ï¼Œå°ºå¯¸ä¸ä¸€å®šèˆ‡é«”å‹æˆæ­£æ¯”å–”ï¼" },
            { question: "å‹•ç‰©ç•Œçš„é–ƒé›»ä¿ æ˜¯èª°ï¼Ÿ", answer: "è¨±å¤šå‹•ç‰©çš„å°„ç²¾æ™‚é–“éƒ½éå¸¸çŸ­ï¼Œä¾‹å¦‚å…¬ç‰›ã€é•·é ¸é¹¿ã€ç¾Šã€å…”å­ç­‰ï¼Œç‰ å€‘çš„äº¤é…éç¨‹éƒ½éå¸¸è¿…é€Ÿï¼Œå ªç¨±å‹•ç‰©ç•Œçš„ã€Œé–ƒé›»ä¿ ã€ï¼" },
            { question: "å‹•ç‰©ç•Œçš„æ…¢éƒä¸­æ˜¯èª°ï¼Ÿ", answer: "åœ¨å“ºä¹³é¡å‹•ç‰©ä¸­ï¼Œç‹—å’Œç‹¼çš„å°„ç²¾æ™‚é–“ç›¸å°è¼ƒé•·ï¼Œå› ç‚ºç‰ å€‘æœ‰ã€Œé–å®šã€ç¾è±¡ï¼Œå¯ä»¥æŒçºŒæ•¸åˆ†é˜ç”šè‡³åŠå°æ™‚ï¼" },
            // æ–°å¢çš„æ·±åº¦é¡Œç›®
            { question: "æ ¹æ“šè¡¨æ ¼ï¼Œè—é¯¨æ˜¯é«”å‹æœ€å¤§çš„å‹•ç‰©ï¼Œæ“æœ‰æœ€å¤§çš„é™°è–ã€‚ç„¶è€Œï¼Œå¤§çŒ©çŒ©é«”å‹é¾å¤§ï¼Œé™°è–å»ç›¸å°è¼ƒå°ã€‚é€™èªªæ˜äº†ä»€éº¼é—œæ–¼å‹•ç‰©é«”å‹å’Œé™°è–å°ºå¯¸ä¹‹é–“çš„é—œä¿‚ï¼Ÿ", answer: "é€™èªªæ˜å‹•ç‰©çš„é™°è–å°ºå¯¸ä¸ä¸€å®šèˆ‡å…¶æ•´é«”é«”å‹æˆæ­£æ¯”ã€‚ä¸åŒç‰©ç¨®çš„ç”Ÿæ®–ç­–ç•¥å’Œæ¼”åŒ–å£“åŠ›æœƒå°è‡´é™°è–å°ºå¯¸çš„å·¨å¤§å·®ç•°ï¼Œå³ä½¿æ˜¯é«”å‹ç›¸è¿‘çš„å‹•ç‰©ä¹Ÿå¯èƒ½å¦‚æ­¤ã€‚" },
            { question: "å°„ç²¾æ™‚é–“çš„é•·çŸ­å¯èƒ½èˆ‡å‹•ç‰©çš„ç”Ÿæ®–ç­–ç•¥æˆ–ç”Ÿå­˜ç’°å¢ƒæœ‰é—œã€‚ä½ èªç‚ºè¡¨æ ¼ä¸­å°„ç²¾æ™‚é–“æ¥µçŸ­å’Œç›¸å°è¼ƒé•·çš„å‹•ç‰©ï¼Œå„è‡ªå¯èƒ½é¢è‡¨ä»€éº¼ä¸åŒçš„æ¼”åŒ–å£“åŠ›ï¼Ÿ", answer: "å°„ç²¾æ™‚é–“çš„é•·çŸ­å¯èƒ½åæ˜ äº†ä¸åŒçš„ç”Ÿæ®–ç­–ç•¥ã€‚å¿«é€Ÿå°„ç²¾çš„å‹•ç‰©å¯èƒ½éœ€è¦åœ¨çŸ­æ™‚é–“å…§å®Œæˆäº¤é…ä»¥é¿å…æ•é£Ÿè€…æˆ–ç«¶çˆ­è€…ï¼›è€Œå°„ç²¾æ™‚é–“è¼ƒé•·çš„å‹•ç‰©ï¼ˆå¦‚ç‹—çš„ã€Œé–å®šã€ï¼‰å¯èƒ½æ—¨åœ¨ç¢ºä¿ç²¾å­èƒ½æ›´æœ‰æ•ˆåœ°å—å­•ï¼Œæ¸›å°‘ç²¾å­ç«¶çˆ­ï¼Œæˆ–åœ¨ç‰¹å®šäº¤é…ç³»çµ±ä¸­ç™¼æ®ä½œç”¨ã€‚" },
            { question: "è¡¨æ ¼ä¸­æåˆ°è²“ç§‘å‹•ç‰©é™°è–æœ‰å€’åˆºï¼Œè±¬çš„é™°è–å‘ˆèºæ—‹ç‹€ã€‚é€™äº›ç‰¹æ®Šçš„é™°è–çµæ§‹å°ç‰ å€‘çš„ç¹æ®–æœ‰ä½•å¹«åŠ©ï¼Ÿ", answer: "é€™äº›ç‰¹æ®Šçµæ§‹æ˜¯ç‚ºäº†é©æ‡‰ä¸åŒçš„ç”Ÿæ®–éœ€æ±‚ã€‚è²“ç§‘å‹•ç‰©çš„å€’åˆºèƒ½åˆºæ¿€é›Œæ€§æ’åµï¼Œæé«˜å—å­•ç‡ã€‚è±¬çš„èºæ—‹ç‹€é™°è–å‰‡èƒ½æ›´å¥½åœ°é©æ‡‰é›Œæ€§ç”Ÿæ®–é“çš„èºæ—‹å½¢ç‹€ï¼Œç¢ºä¿ç²¾å­èƒ½æ›´æœ‰æ•ˆåœ°é€é”ã€‚é€™äº›éƒ½æ˜¯ç‚ºäº†æœ€å¤§åŒ–ç¹æ®–æˆåŠŸç‡çš„æ¼”åŒ–é©æ‡‰ã€‚" }
        ];

        const tableBody = document.getElementById('mammal-table-body');
        let currentSortColumn = 'rank'; // é è¨­æ’åºæ¬„ä½æ”¹ç‚º 'rank'
        let currentSortDirection = 'asc'; // é è¨­æ’åºæ–¹å‘æ”¹ç‚º 'asc' (ç”±å°åˆ°å¤§)

        // å¿«å•å¿«ç­”ç›¸é—œå…ƒç´ 
        const qaQuestion = document.getElementById('qa-question');
        const qaAnswer = document.getElementById('qa-answer');
        const showAnswerBtn = document.getElementById('show-answer-btn');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const restartQuizBtn = document.getElementById('restart-quiz-btn');

        let shuffledQaData = []; // ç”¨æ–¼å„²å­˜æ‰“äº‚å¾Œçš„é¡Œç›®
        let currentQaIndex = 0;

        // è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—ç›¸é—œå…ƒç´ 
        const funNoteModalOverlay = document.getElementById('fun-note-modal-overlay');
        const funNoteModalCloseBtn = document.getElementById('fun-note-modal-close');
        const modalAnimalName = document.getElementById('modal-animal-name');
        const modalFunNote = document.getElementById('modal-fun-note');


        // åˆå§‹åŒ– Tone.js åˆæˆå™¨
        const synth = new Tone.Synth().toDestination();

        // æ’­æ”¾æ»´ç­”è²çš„å‡½æ•¸
        function playTickSound() {
            // åœ¨æ’­æ”¾éŸ³æ•ˆå‰æª¢æŸ¥ AudioContext ç‹€æ…‹ä¸¦å˜—è©¦æ¢å¾©
            if (Tone.context.state !== 'running') {
                // å¦‚æœ AudioContext å°šæœªé‹è¡Œï¼Œå˜—è©¦æ¢å¾©ä¸¦åœ¨æ¢å¾©å¾Œæ’­æ”¾éŸ³æ•ˆ
                Tone.context.resume().then(() => {
                    // ä½¿ç”¨ Tone.context.currentTime é¿å…é‡è¤‡è§¸ç™¼æ™‚ç™¼ç”Ÿæ™‚é–“éŒ¯èª¤
                    synth.triggerAttackRelease("C4", "8n", Tone.context.currentTime);
                });
            } else {
                // å¦‚æœ AudioContext å·²ç¶“é‹è¡Œï¼Œç›´æ¥æ’­æ”¾éŸ³æ•ˆ
                synth.triggerAttackRelease("C4", "8n", Tone.context.currentTime);
            }
        }

        // Fisher-Yates æ´—ç‰Œæ¼”ç®—æ³•
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // äº¤æ›å…ƒç´ 
            }
            return array;
        }

        // æ¸²æŸ“è¡¨æ ¼å…§å®¹çš„å‡½æ•¸
        function renderTable(data) {
            tableBody.innerHTML = ''; // æ¸…ç©ºç¾æœ‰å…§å®¹
            // éæ¿¾æ•¸æ“šï¼Œåªé¡¯ç¤ºæ’ååœ¨ 30 æˆ–ä»¥ä¸‹çš„å‹•ç‰©
            const filteredData = data.filter(item => item.rank <= 30);

            filteredData.forEach((item, index) => {
                const row = document.createElement('tr');
                row.classList.add('hover:bg-pink-50', 'transition-all', 'duration-200', 'ease-in-out');

                // å¶æ•¸è¡Œæ·»åŠ èƒŒæ™¯è‰²ï¼Œå¢åŠ å¯è®€æ€§ (åŸºæ–¼ç•¶å‰ç´¢å¼•)
                if (index % 2 === 0) {
                    row.classList.add('bg-gray-50');
                }

                // æ¨™ç¤ºäººé¡è¡Œ
                if (item.animal.includes('äººé¡')) { // æª¢æŸ¥æ˜¯å¦åŒ…å«ã€Œäººé¡ã€
                    row.classList.add('highlight-human');
                }

                // æº–å‚™å‹•ç‰©åç¨±çš„é¡¯ç¤ºå…§å®¹
                let animalContentHtml;
                if (item.rank === 1) { // åªæœ‰ç•¶æ’åç‚º1æ™‚æ‰åŠ ä¸Šçš‡å† 
                    animalContentHtml = `
                        <div class="animal-cell-content">
                            <span class="crown-emoji">ğŸ‘‘</span>
                            <button type="button" class="animal-name-button" data-animal="${item.animal}" data-note="${item.notes}">${item.animal}</button>
                        </div>
                    `;
                } else {
                    animalContentHtml = `
                        <div class="animal-cell-content">
                            <button type="button" class="animal-name-button" data-animal="${item.animal}" data-note="${item.notes}">${item.animal}</button>
                        </div>
                    `;
                }


                row.innerHTML = `
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.rank}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${animalContentHtml}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.lengthText}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.ejaculationText}</td>
                `;
                tableBody.appendChild(row);
            });

            // åœ¨æ‰€æœ‰è¡Œæ¸²æŸ“å®Œç•¢å¾Œï¼Œç‚ºæ‰€æœ‰ animal-name-button æ·»åŠ äº‹ä»¶ç›£è½å™¨
            document.querySelectorAll('.animal-name-button').forEach(button => {
                button.addEventListener('click', (event) => {
                    const animal = event.target.dataset.animal;
                    const note = event.target.dataset.note;
                    showFunNoteModal(animal, note);
                });
            });
        }

        // æ’åºè¡¨æ ¼çš„å‡½æ•¸
        function sortTable(column) {
            // å¦‚æœé»æ“Šçš„æ˜¯ç•¶å‰æ’åºæ¬„ä½ï¼Œå‰‡åˆ‡æ›æ’åºæ–¹å‘
            if (currentSortColumn === column) {
                currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                // å¦å‰‡ï¼Œè¨­å®šæ–°çš„æ’åºæ¬„ä½ä¸¦é‡ç½®ç‚ºå‡åº
                currentSortColumn = column;
                currentSortDirection = 'asc';
            }

            // æ¸…é™¤æ‰€æœ‰ç®­é ­æ¨£å¼
            document.querySelectorAll('.sort-arrow').forEach(arrow => {
                arrow.classList.remove('sort-asc', 'sort-desc');
            });

            // æ ¹æ“šæ’åºæ–¹å‘æ·»åŠ ç®­é ­æ¨£å¼
            const currentArrow = document.getElementById(`sort-${column}`);
            if (currentArrow) {
                currentArrow.classList.add(currentSortDirection === 'asc' ? 'sort-asc' : 'sort-desc');
            }

            // åŸ·è¡Œæ’åº
            const sortedData = [...mammalData].sort((a, b) => {
                let valA = a[column];
                let valB = b[column];

                // è™•ç†å­—ç¬¦ä¸²æ’åº
                if (typeof valA === 'string' && typeof valB === 'string') {
                    return currentSortDirection === 'asc' ? valA.localeCompare(valB) : valB.localeCompare(valA);
                }
                // è™•ç†æ•¸å­—æ’åºï¼ŒåŒ…æ‹¬ Infinity (ä¸è©³) çš„æƒ…æ³
                if (valA === Infinity && valB !== Infinity) return currentSortDirection === 'asc' ? 1 : -1;
                if (valB === Infinity && valA !== Infinity) return currentSortDirection === 'asc' ? -1 : 1;
                if (valA === Infinity && valB === Infinity) return 0; // å…©å€‹éƒ½æ˜¯ Infinity å‰‡è¦–ç‚ºç›¸ç­‰

                return currentSortDirection === 'asc' ? valA - valB : valB - valA;
            });

            renderTable(sortedData); // é‡æ–°æ¸²æŸ“è¡¨æ ¼
        }

        // ç‚ºå¯æ’åºçš„æ¨™é ­æ·»åŠ é»æ“Šäº‹ä»¶ç›£è½å™¨
        document.querySelectorAll('th[data-sort-by]').forEach(header => {
            header.addEventListener('click', () => {
                const sortBy = header.getAttribute('data-sort-by');
                sortTable(sortBy);
            });
        });

        // å¿«å•å¿«ç­”å‡½æ•¸
        function displayQuestion() {
            if (currentQaIndex < shuffledQaData.length) {
                qaQuestion.textContent = `Q${currentQaIndex + 1}: ${shuffledQaData[currentQaIndex].question}`;
                qaAnswer.textContent = shuffledQaData[currentQaIndex].answer;
                qaAnswer.classList.add('hidden'); // é è¨­éš±è—ç­”æ¡ˆ
                showAnswerBtn.classList.remove('hidden');
                nextQuestionBtn.classList.remove('hidden');
                restartQuizBtn.classList.add('hidden');
                playTickSound(); // é¡¯ç¤ºæ–°é¡Œç›®æ™‚æ’­æ”¾æ»´ç­”è²
            } else {
                // æ‰€æœ‰å•é¡Œéƒ½å›ç­”å®Œç•¢
                qaQuestion.textContent = "æ­å–œä½ ï¼æ‰€æœ‰å•é¡Œéƒ½å›ç­”å®Œç•¢äº†ï¼ğŸ‰";
                qaAnswer.textContent = "é»æ“Šã€Œé‡æ–°é–‹å§‹ã€å†æ¬¡æŒ‘æˆ°å§ï¼";
                qaAnswer.classList.remove('hidden');
                showAnswerBtn.classList.add('hidden');
                nextQuestionBtn.classList.add('hidden');
                restartQuizBtn.classList.remove('hidden');
            }
        }

        function showAnswer() {
            qaAnswer.classList.remove('hidden');
            showAnswerBtn.classList.add('hidden');
        }

        function nextQuestion() {
            currentQaIndex++;
            displayQuestion();
        }

        function restartQuiz() {
            currentQaIndex = 0;
            shuffledQaData = shuffleArray([...qaData]); // é‡æ–°æ‰“äº‚é¡Œç›®
            displayQuestion();
        }

        // äº‹ä»¶ç›£è½å™¨
        showAnswerBtn.addEventListener('click', showAnswer);
        nextQuestionBtn.addEventListener('click', nextQuestion);
        restartQuizBtn.addEventListener('click', restartQuiz);

        // é¡¯ç¤ºè¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—
        function showFunNoteModal(animal, note) {
            modalAnimalName.textContent = animal;
            modalFunNote.textContent = note;
            funNoteModalOverlay.classList.remove('hidden');
        }

        // é—œé–‰è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—
        function closeFunNoteModal() {
            funNoteModalOverlay.classList.add('hidden');
        }

        // å½ˆå‡ºè¦–çª—é—œé–‰æŒ‰éˆ•äº‹ä»¶
        funNoteModalCloseBtn.addEventListener('click', closeFunNoteModal);

        // é»æ“Šå½ˆå‡ºè¦–çª—å¤–éƒ¨é—œé–‰è¦–çª—
        funNoteModalOverlay.addEventListener('click', (event) => {
            if (event.target === funNoteModalOverlay) {
                closeFunNoteModal();
            }
        });


        // é é¢è¼‰å…¥æ™‚ï¼Œé è¨­ä»¥æ’åï¼ˆç”±å°åˆ°å¤§ï¼‰æ’åºä¸¦æ¸²æŸ“è¡¨æ ¼ï¼ŒåŒæ™‚åˆå§‹åŒ–å¿«å•å¿«ç­”
        window.onload = () => {
            // åˆå§‹æ¸²æŸ“ï¼šç›´æ¥ä»¥ rank å‡åºæ’åºä¸¦æ¸²æŸ“
            const initialSortedData = [...mammalData].sort((a, b) => a.rank - b.rank); // æ ¹æ“š rank é€²è¡Œå‡åºæ’åº
            renderTable(initialSortedData);

            // è¨­å®šåˆå§‹æ’åºç‹€æ…‹ï¼Œä»¥ä¾¿å¾ŒçºŒé»æ“Šèƒ½æ­£ç¢ºåˆ‡æ›
            currentSortColumn = 'rank';
            currentSortDirection = 'asc';

            // æ‰‹å‹•è¨­å®šåˆå§‹æ’åºç®­é ­
            const initialArrow = document.getElementById(`sort-${currentSortColumn}`);
            if (initialArrow) {
                initialArrow.classList.add('sort-asc'); // é è¨­ç‚ºå‡åºç®­é ­
            }

            // åˆå§‹åŒ–å¿«å•å¿«ç­”ï¼šæ‰“äº‚é¡Œç›®ä¸¦é¡¯ç¤ºç¬¬ä¸€é¡Œ
            shuffledQaData = shuffleArray([...qaData]);
            displayQuestion();
        };
    </script>
</body>
</html>

            transform: translateY(0); /* ç¦ç”¨æ™‚ç„¡å‹•ç•« */
        }
        /* äººé¡è¡Œæ¨™ç¤ºæ¨£å¼ */
        .highlight-human {
            background-color: #fffacd !important; /* æ·ºé»ƒè‰²èƒŒæ™¯ */
            font-weight: bold;
            color: #8b4513; /* æ·±æ£•è‰²æ–‡å­— */
        }
        /* çš‡å† è¡¨æƒ…ç¬¦è™Ÿçš„æ¨£å¼ */
        .crown-emoji {
            font-size: 1.8em; /* è®“çš‡å† æ›´å¤§ */
            line-height: 1; /* èª¿æ•´è¡Œé«˜ä»¥æ›´å¥½åœ°å®šä½ */
            display: block; /* è®“çš‡å† ç¨ä½”ä¸€è¡Œ */
            margin-bottom: 0.2em; /* å¢åŠ èˆ‡æ–‡å­—çš„é–“è· */
        }
        /* åŒ…å«çš‡å† å’Œå‹•ç‰©åç¨±çš„å–®å…ƒæ ¼æ¨£å¼ */
        .animal-cell-content {
            display: flex;
            flex-direction: column; /* å‚ç›´æ’åˆ— */
            align-items: center; /* æ°´å¹³å±…ä¸­ */
            justify-content: center; /* å‚ç›´å±…ä¸­ */
            text-align: center; /* æ–‡å­—å±…ä¸­ */
            height: 100%; /* è®“å…§å®¹ä½”æ»¿å–®å…ƒæ ¼é«˜åº¦ */
        }
        /* å‹•ç‰©åç¨±æŒ‰éˆ•æ¨£å¼ */
        .animal-name-button {
            @apply bg-transparent text-gray-800 font-semibold py-1 px-2 rounded-md;
            @apply hover:underline hover:text-pink-600 transition-colors duration-150;
            cursor: pointer;
            border: none; /* ç§»é™¤é è¨­æŒ‰éˆ•é‚Šæ¡† */
            display: inline-block; /* å…è¨±æ–‡å­—æ›è¡Œ */
            white-space: normal; /* å…è¨±æ–‡å­—æ›è¡Œ */
            line-height: 1.2; /* èª¿æ•´è¡Œé«˜è®“æ–‡å­—æ›´ç·Šæ¹Š */
        }
        .highlight-human .animal-name-button {
            @apply text-orange-800; /* èª¿æ•´é«˜äº®è¡Œæ–‡å­—é¡è‰² */
        }

        /* è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—æ¨£å¼ */
        .fun-note-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000; /* ç¢ºä¿åœ¨æœ€ä¸Šå±¤ */
        }

        .fun-note-modal-content {
            background-color: #fff;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            max-width: 90%;
            width: 400px; /* ç·Šæ¹Šçš„å›ºå®šå¯¬åº¦ */
            position: relative;
            animation: fadeInScale 0.3s ease-out forwards; /* åŠ å…¥å‹•ç•« */
        }

        .fun-note-modal-close {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #9ca3af; /* ç°è‰² */
            cursor: pointer;
            padding: 0.25rem;
            line-height: 1;
            transition: color 0.2s ease-in-out;
        }

        .fun-note-modal-close:hover {
            color: #ef4444; /* ç´…è‰² */
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center">
    <div class="bg-white rounded-lg shadow-2xl p-6 max-w-5xl w-full my-8">
        <h1 class="text-4xl font-extrabold text-center text-pink-600 mb-6 animate-pulse">
            èª°æœ€å±Œï¼ï¼Ÿ ğŸ† å“ºä¹³é¡å‹•ç‰©çš„ã€Œé‚£è©±å…’ã€å¤§å…¬é–‹ï¼ â±ï¸
        </h1>
        <p class="text-lg text-gray-700 text-center mb-4">
            å¥½å¥‡å‹•ç‰©ç•Œçš„ã€Œå°ºå¯¸ã€èˆ‡ã€ŒæŒä¹…åŠ›ã€å—ï¼Ÿä¸€èµ·ä¾†çœ‹çœ‹é€™äº›ä»¤äººé©šè¨ğŸ™€çš„æ•¸æ“šå§ï¼
        </p>
        <p class="text-lg text-gray-700 text-center mb-8 font-semibold text-purple-700">
            åˆ¥å¿˜äº†ï¼Œé é¢ä¸‹æ–¹é‚„æœ‰åˆºæ¿€çš„**å¿«å•å¿«ç­”**ç­‰ä½ ä¾†**æº–å‚™å¥½è…¦åŠ›æ¿€ç›ªäº†å—ï¼Ÿ**ğŸ§ 
        </p>

        <div class="overflow-x-auto rounded-lg border border-gray-200 shadow-md">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-pink-500 text-white">
                    <tr>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider rounded-tl-lg cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="rank">
                            æ’å
                            <span class="sort-arrow" id="sort-rank"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="animal">
                            å‹•ç‰©ç¨®é¡ ğŸ¾
                            <span class="sort-arrow" id="sort-animal"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="lengthSort">
                            å‹ƒèµ·é•·åº¦ (ç´„ç•¥) ğŸ“
                            <span class="sort-arrow" id="sort-lengthSort"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="ejaculationSort">
                            å°„ç²¾æ™‚é–“ (ç´„ç•¥) â±ï¸
                            <span class="sort-arrow" id="sort-ejaculationSort"></span>
                        </th>
                        <!-- è¶£å‘³å‚™è¨»æ¬„ä½å·²ç§»é™¤ -->
                    </tr>
                </thead>
                <tbody id="mammal-table-body" class="bg-white divide-y divide-gray-200">
                    <!-- è¡¨æ ¼å…§å®¹å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
                </tbody>
            </table>
        </div>

        <!-- åŒå ´åŠ æ˜ ï¼šæŒä¹…ç‹æ’åå€å¡Š (é‡æ–°æ’ç‰ˆ) -->
        <div class="bg-blue-100 rounded-lg shadow-md p-6 mt-8 border-l-4 border-blue-500">
            <h2 class="text-center text-2xl font-bold text-blue-800 mb-6">ğŸ‘‘ åŒå ´åŠ æ˜ ï¼šå“ºä¹³é¡çš„ã€ŒæŒä¹…ç‹ã€æ’å ğŸ‘‘</h2>
            <div class="overflow-x-auto rounded-lg border border-blue-200">
                <table class="w-full text-left table-auto">
                    <thead class="bg-blue-600 text-white">
                        <tr>
                            <th class="px-4 py-3 text-sm font-semibold rounded-tl-lg">æ’å</th>
                            <th class="px-4 py-3 text-sm font-semibold">å‹•ç‰©</th>
                            <th class="px-4 py-3 text-sm font-semibold">ç‰¹è‰²</th>
                            <th class="px-4 py-3 text-sm font-semibold rounded-tr-lg">å¹³å‡äº¤é…æ™‚é–“</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">1ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">æœè </td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">äº¤é…å¯é•·é” 6â€“12 å°æ™‚ï¼Œä¸­é–“å¹¾ä¹ä¸ä¼‘æ¯ï¼Œç®—æ˜¯å“ºä¹³é¡ç•Œæœ€é©šäººçš„é¦¬æ‹‰æ¾å‹é¸æ‰‹</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">6â€“12 å°æ™‚</td>
                        </tr>
                        <tr class="bg-blue-50 border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">2ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">ç…å­</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">é›–ç„¶å–®æ¬¡åªæœ‰ 30â€“60 ç§’ï¼Œä½† 24 å°æ™‚å…§èƒ½äº¤é… 20â€“40 æ¬¡ï¼Œç¸½æ™‚æ•¸ç´¯ç©æè¶…éæœè </td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">å¤šæ¬¡ç´¯ç©æ•¸å°æ™‚</td>
                        </tr>
                        <tr class="border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">3ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">å€­é»‘çŒ©çŒ©</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">ç¤¾äº¤å‹äº¤é…ï¼Œé »ç‡é«˜ã€æ™‚é–“é•·ï¼Œå¸¸æœ‰ã€Œé•·æ™‚é–“æ„›æ’«èˆ‡é…å°è¡Œç‚ºã€ï¼Œå¯æŒçºŒ 30â€“60 åˆ†é˜</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">30â€“60 åˆ†é˜</td>
                        </tr>
                        <tr class="bg-blue-50 border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">4ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">ç°é¯¨</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">äº¤é…å¸¸æ˜¯ã€Œä¸‰äººè¡Œã€ï¼Œäº’ç›¸å”åŠ©é…å°ï¼Œæ™‚é–“å¯æŒçºŒ 30 åˆ†é˜ä»¥ä¸Š</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">30 åˆ†é˜ä»¥ä¸Š</td>
                        </tr>
                        <tr class="border-b border-blue-200">
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-bold">5ï¸âƒ£</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base">æµ·è±š</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-700 text-sm">äº¤é…é »ç¹ï¼Œé›–ç„¶æ¯æ¬¡åƒ…æ•¸åç§’ï¼Œä½†å‰æˆ²é•·ã€äº’å‹•é »ç¹ï¼Œæ˜¯ã€Œè€åŠ›ç¤¾äº¤æ´¾ã€</td>
                            <td class="px-4 py-3 whitespace-normal text-gray-800 text-base font-medium">å¤šæ¬¡ç´¯ç©</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- å¿«å•å¿«ç­”å€å¡Š -->
        <div class="fun-facts-section">
            <h2 class="text-center text-2xl font-bold mb-4">ğŸ§  å¿«å•å¿«ç­”æ™‚é–“ï¼è€ƒè€ƒä½ å°å‹•ç‰©çš„äº†è§£ï¼ ğŸ’¡</h2>
            <div id="qa-container" class="text-center p-4">
                <p id="qa-question" class="text-xl font-semibold text-gray-800 mb-4"></p>
                <p id="qa-answer" class="text-lg text-gray-700 mb-6 hidden"></p>
                <div class="space-x-4">
                    <button id="show-answer-btn" class="qa-button">é¡¯ç¤ºç­”æ¡ˆ</button>
                    <button id="next-question-btn" class="qa-button">ä¸‹ä¸€é¡Œ</button>
                    <button id="restart-quiz-btn" class="qa-button hidden">é‡æ–°é–‹å§‹</button>
                </div>
            </div>
        </div>

        <p class="text-sm text-gray-600 mt-6 text-center">
            <strong class="font-semibold">å…è²¬è²æ˜ï¼š</strong> é€™äº›æ•¸æ“šä¸»è¦ä¾†è‡ªç§‘å­¸ç ”ç©¶å’Œè§€å¯Ÿï¼Œä½†å¯¦éš›æƒ…æ³å¯èƒ½å› å€‹é«”ã€ç’°å¢ƒå’Œæ¸¬é‡æ–¹æ³•è€Œç•°ã€‚
        </p>
    </div>

    <!-- è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª— (Modal) -->
    <div id="fun-note-modal-overlay" class="fun-note-modal-overlay hidden">
        <div class="fun-note-modal-content">
            <button id="fun-note-modal-close" class="fun-note-modal-close">&times;</button>
            <h3 id="modal-animal-name" class="text-2xl font-bold text-pink-600 mb-3 text-center"></h3>
            <p id="modal-fun-note" class="text-gray-700 text-base leading-relaxed"></p>
        </div>
    </div>

    <script>
        // å“ºä¹³é¡å‹•ç‰©æ•¸æ“šï¼ŒåŠ å…¥æ›´å¤šè¶£å‘³æè¿°å’Œæ’åºç”¨çš„æ•¸å€¼
        // åƒ…ä¿ç•™æ’å 1 åˆ° 30 çš„å‹•ç‰©
        const mammalData = [
            { rank: 1, animal: "è—é¯¨ ğŸ³", lengthText: "240 - 300 å…¬åˆ† (ç´„ä¸€å°å…¬è»Šé•·)", lengthSort: 270, ejaculationText: "æ·±æµ·ç§˜å¯†ï¼Œå°šå¾…æ¢ç´¢ï¼", ejaculationSort: Infinity, notes: "åœ°çƒä¸Šé«”å‹æœ€å¤§çš„å‹•ç‰©ï¼Œå…¶é™°è–ä¹Ÿæ˜¯å·²çŸ¥å‹•ç‰©ä¸­æœ€å¤§çš„ï¼Œç°¡ç›´æ˜¯æµ·æ´‹å·¨ç„¡éœ¸ï¼" },
            { rank: 2, animal: "éæ´²è±¡ ğŸ˜", lengthText: "100 - 180 å…¬åˆ† (ç´„ä¸€å€‹æˆå¹´äººé«˜)", lengthSort: 140, ejaculationText: "é–ƒé›»èˆ¬è¿…é€Ÿï¼", ejaculationSort: 60, notes: "é™¸åœ°ä¸Šé™°è–æœ€é•·çš„å‹•ç‰©ï¼Œå¨é¢¨å‡œå‡œï¼" },
            { rank: 3, animal: "å…¬ç‰› ğŸ‚", lengthText: "80 - 100 å…¬åˆ†", lengthSort: 90, ejaculationText: "ä¸€çœ¨çœ¼å°±æå®šï¼", ejaculationSort: 5, notes: "å®ƒçš„ã€Œé‚£è©±å…’ã€ä¸»è¦æ˜¯ä¼¸é•·ï¼Œè€Œä¸æ˜¯è®Šç²—ï¼Œæ•ˆç‡è‡³ä¸Šï¼" },
            { rank: 4, animal: "é•·é ¸é¹¿ ğŸ¦’", lengthText: "70 - 100 å…¬åˆ†", lengthSort: 85, ejaculationText: "å’»ä¸€ä¸‹å°±å®Œæˆäº†ï¼", ejaculationSort: 5, notes: "é«˜é«˜åœ¨ä¸Šçš„ç‰ å€‘ï¼Œé€£é€™æ–¹é¢ä¹Ÿèˆ‡çœ¾ä¸åŒï¼" },
            { rank: 5, animal: "æµ·è±¡ ğŸ¦­", lengthText: "60 - 75 å…¬åˆ†", lengthSort: 67.5, ejaculationText: "å†°æµ·ä¹‹è¬ï¼", ejaculationSort: Infinity, notes: "æ“æœ‰æ‰€æœ‰å“ºä¹³å‹•ç‰©ä¸­æœ€é•·çš„é™°è–éª¨ï¼Œç¡¬åº¦é©šäººï¼" },
            { rank: 6, animal: "é¦¬ ğŸ", lengthText: "50 - 100 å…¬åˆ†", lengthSort: 75, ejaculationText: "å¹¾ç§’é˜çš„äº‹ï¼", ejaculationSort: 30, notes: "å‹ƒèµ·æ™‚é•·åº¦å¯é”å¹³æ™‚çš„å…©å€ï¼Œè®ŠåŒ–è¶…å¤§ï¼" },
            { rank: 7, animal: "è±¬ ğŸ–", lengthText: "30 - 50 å…¬åˆ†", lengthSort: 40, ejaculationText: "è€å¿ƒç­‰å¾… 5-15 åˆ†é˜ï¼", ejaculationSort: 600, notes: "ç¨ç‰¹çš„èºæ—‹ç‹€é™°è–ï¼Œç‚ºäº†æ›´ã€Œç·Šå¯†ã€çš„çµåˆï¼" },
            { rank: 8, animal: "é©¢ ğŸ´", lengthText: "25 - 40 å…¬åˆ†", lengthSort: 32.5, ejaculationText: "ç¬é–“å®Œæˆï¼", ejaculationSort: 30, notes: "" },
            { rank: 9, animal: "ç°ç†Š ğŸ»", lengthText: "20 - 30 å…¬åˆ†", lengthSort: 25, ejaculationText: "æ£®æ—è£¡çš„ç§˜å¯†ï¼", ejaculationSort: Infinity, notes: "" },
            { rank: 10, animal: "é§±é§ ğŸª", lengthText: "20 - 30 å…¬åˆ†", lengthSort: 25, ejaculationText: "å¹¾åˆ†é˜çš„æµªæ¼«ï¼", ejaculationSort: 120, notes: "æ²™æ¼ ä¸­çš„è€åŠ›ç‹è€…ï¼Œé€£é€™æ–¹é¢ä¹Ÿå¾ˆæœ‰è€å¿ƒï¼" },
            { rank: 11, animal: "ç´…é¹¿ ğŸ¦Œ", lengthText: "15 - 25 å…¬åˆ†", lengthSort: 20, ejaculationText: "å¿«é€Ÿæå®šï¼", ejaculationSort: 5, notes: "" },
            { rank: 12, animal: "ç¾Š ğŸ‘", lengthText: "15 - 20 å…¬åˆ†", lengthSort: 17.5, ejaculationText: "å’»ä¸€ä¸‹å°±çµæŸäº†ï¼", ejaculationSort: 5, notes: "" },
            { rank: 13, animal: "å±±ç¾Š ğŸ", lengthText: "15 - 20 å…¬åˆ†", lengthSort: 17.5, ejaculationText: "ç¬é–“å®Œæˆï¼", ejaculationSort: 5, notes: "" },
            { rank: 14, animal: "äººé¡ ğŸ§", lengthText: "13 - 15 å…¬åˆ†", lengthSort: 14, ejaculationText: "æ•¸åˆ†é˜ï¼Œå› äººè€Œç•°ï¼", ejaculationSort: 120, notes: "å¹³å‡å‹ƒèµ·é•·åº¦ï¼Œä½†ã€Œå°ºå¯¸ã€å’Œã€Œæ™‚é–“ã€éƒ½æ˜¯å€‹é«”å·®ç•°å¾ˆå¤§çš„è©±é¡Œå–”ï¼" },
            { rank: 15, animal: "è€è™ ğŸ…", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "é›»å…‰ç«çŸ³ä¹‹é–“ï¼", ejaculationSort: 5, notes: "é™°è–å¸¶æœ‰å€’åˆºï¼Œç‚ºäº†å¿«é€Ÿåˆºæ¿€é›Œæ€§æ’åµï¼" },
            { rank: 16, animal: "ç…å­ ğŸ¦", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "è¿…é€Ÿæå®šï¼", ejaculationSort: 5, notes: "èˆ‡è€è™é¡ä¼¼ï¼Œä¹Ÿæ˜¯å¸¶åˆºçš„ã€Œé‚£è©±å…’ã€ï¼" },
            { rank: 17, animal: "ç‹— ğŸ¶", lengthText: "5 - 20 å…¬åˆ†", lengthSort: 12.5, ejaculationText: "5 - 30 åˆ†é˜ (é–å®šä¸­...)", ejaculationSort: 1000, notes: "äº¤é…æ™‚æœƒå‡ºç¾ã€Œé–å®šã€ç¾è±¡ï¼Œæ‰€ä»¥æ™‚é–“æœƒæ¯”è¼ƒé•·å–”ï¼" },
            { rank: 18, animal: "è¢‹é¼  ğŸ¦˜", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "å¾ˆå¿«çš„ï¼", ejaculationSort: 5, notes: "æ“æœ‰ç¨ç‰¹çš„é›™é ­é™°è–ï¼Œé©æ‡‰é›Œæ€§çš„é›™é™°é“çµæ§‹ï¼" },
            { rank: 19, animal: "ç‹¼ ğŸº", lengthText: "8 - 15 å…¬åˆ†", lengthSort: 11.5, ejaculationText: "5 - 30 åˆ†é˜ (é–å®šä¸­...)", ejaculationSort: 1000, notes: "å’Œç‹—ç‹—ä¸€æ¨£ï¼Œä¹Ÿæœƒæœ‰ã€Œé–å®šã€çš„ç‰¹æ®Šæ™‚åˆ»ï¼" },
            { rank: 20, animal: "ç†Šè²“ ğŸ¼", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "æº«æŸ”çš„å¹¾åˆ†é˜ï¼", ejaculationSort: 120, notes: "çœ‹ä¼¼ç¬¨æ‹™ï¼Œä½†é€™æ–¹é¢ä¹Ÿå¾ˆåŠªåŠ›ï¼" },
            { rank: 21, animal: "ç‹ç‹¸ ğŸ¦Š", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "å¹¾åˆ†é˜çš„æµªæ¼«ï¼", ejaculationSort: 120, notes: "" },
            { rank: 22, animal: "æ°´çº ğŸ¦¦", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "æ°´ä¸‹é€²è¡Œï¼Œæ™‚é–“ä¸è©³ï¼", ejaculationSort: 60, notes: "æ°´ä¸­çš„å°ç²¾éˆï¼Œäº¤é…ä¹Ÿå¾ˆæœ‰è¶£ï¼" },
            { rank: 23, animal: "è™è  ğŸ¦‡", lengthText: "1 - 5 å…¬åˆ†", lengthSort: 3, ejaculationText: "å¤œé–“è¡Œå‹•ï¼Œæ˜¯å€‹è¬ï¼", ejaculationSort: Infinity, notes: "ç¨®é¡ç¹å¤šï¼Œå°ºå¯¸ä¹Ÿå„ç•°ï¼Œä½†é€šå¸¸éƒ½å°å·§ç²ç“ï¼" },
            { rank: 24, animal: "å¤§çŒ©çŒ© ğŸ¦", lengthText: "3 - 4 å…¬åˆ†", lengthSort: 3.5, ejaculationText: "æ•¸ç§’è‡³æ•¸åˆ†é˜ï¼Œå¾ˆæœ‰æ•ˆç‡ï¼", ejaculationSort: 60, notes: "é«”å‹é›–å¤§ï¼Œä½†ã€Œé‚£è©±å…’ã€å»ç›¸å°è¿·ä½ ï¼Œè­‰æ˜å°ºå¯¸ä¸æ˜¯å”¯ä¸€ï¼" },
            { rank: 25, animal: "è²“ ğŸ±", lengthText: "2 - 3 å…¬åˆ†", lengthSort: 2.5, ejaculationText: "å¿«é€Ÿé–ƒé›»æˆ°ï¼", ejaculationSort: 5, notes: "é™°è–å¸¶æœ‰å€’åˆºï¼Œæ˜¯ç‚ºäº†åˆºæ¿€é›Œè²“æ’åµçš„ç§˜å¯†æ­¦å™¨ï¼" },
            { rank: 26, animal: "å…”å­ ğŸ°", lengthText: "2 - 3 å…¬åˆ†", lengthSort: 2.5, ejaculationText: "ä¸€ç¬é–“çš„äº‹ï¼", ejaculationSort: 5, notes: "ç¹æ®–åŠ›è¶…å¼·çš„ç‰ å€‘ï¼Œäº¤é…ä¹Ÿè¶…ç´šè¿…é€Ÿï¼" },
            { rank: 27, animal: "è€é¼  ğŸ­", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "çœ¨çœ¼åŠŸå¤«ï¼", ejaculationSort: 5, notes: "" },
            { rank: 28, animal: "å€‰é¼  ğŸ¹", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "è¶…å…‰é€Ÿå®Œæˆï¼", ejaculationSort: 5, notes: "" },
            { rank: 29, animal: "é¼´é¼  ğŸ•³ï¸", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "åœ°ä¸‹ä¸–ç•Œçš„ç§˜å¯†ï¼", ejaculationSort: Infinity, notes: "ç”Ÿæ´»åœ¨åœ°ä¸‹ï¼Œé€£é€™æ–¹é¢ä¹Ÿå……æ»¿ç¥ç§˜æ„Ÿï¼" },
            { rank: 30, animal: "é¼©é¼± ğŸ", lengthText: "0.5 - 1 å…¬åˆ†", lengthSort: 0.75, ejaculationText: "å°åˆ°çœ‹ä¸è¦‹çš„ç¬é–“ï¼", ejaculationSort: Infinity, notes: "é«”å‹éå¸¸å°ï¼Œé™°è–ä¹Ÿè¿·ä½ åˆ°ä¸è¡Œï¼Œä½†ä¾ç„¶èƒ½ç¹è¡å¾Œä»£ï¼" }
        ];

        // å¿«å•å¿«ç­”æ•¸æ“š
        const qaData = [
            { question: "è—é¯¨çš„ã€Œé‚£è©±å…’ã€æœ‰å¤šé•·ï¼Ÿ", answer: "ç´„ç­‰æ–¼ä¸€è¼›å°å‹å…¬è»Šçš„é•·åº¦ï¼çµ•å°æ˜¯å‹•ç‰©ç•Œçš„ã€Œå·¨ç„¡éœ¸ã€ï¼" },
            { question: "é™¸åœ°ä¸Šé™°è–æœ€é•·çš„å‹•ç‰©æ˜¯èª°ï¼Ÿ", answer: "éæ´²è±¡ï¼ç‰ çš„ã€Œé‚£è©±å…’ã€å¹¾ä¹å’Œä¸€å€‹æˆå¹´äººä¸€æ¨£é«˜ï¼" },
            { question: "ç‚ºä»€éº¼ç‹—å’Œç‹¼äº¤é…æ™‚é–“æœƒå¾ˆé•·ï¼Ÿ", answer: "å› ç‚ºç‰ å€‘åœ¨äº¤é…å¾Œæœƒå‡ºç¾ã€Œé–å®šã€ç¾è±¡ï¼Œé€™æ˜¯ç‚ºäº†ç¢ºä¿å—å­•æˆåŠŸç‡å–”ï¼" },
            { question: "è²“ç§‘å‹•ç‰©çš„é™°è–ä¸Šç‚ºä»€éº¼æœƒæœ‰å€’åˆºï¼Ÿ", answer: "é€™æ˜¯ç‚ºäº†åˆºæ¿€é›Œæ€§æ’åµï¼Œæé«˜ç¹æ®–æ•ˆç‡ï¼" },
            { question: "è±¬çš„é™°è–æœ‰ä»€éº¼ç‰¹åˆ¥ä¹‹è™•ï¼Ÿ", answer: "ç‰ çš„ã€Œé‚£è©±å…’ã€æ˜¯ç¨ç‰¹çš„èºæ—‹ç‹€ï¼Œç‚ºäº†æ›´ã€Œç·Šå¯†ã€çš„çµåˆï¼" },
            { question: "æµ·è±¡çš„ã€Œé‚£è©±å…’ã€è£¡æœ‰ä»€éº¼ç‰¹åˆ¥çš„éª¨é ­ï¼Ÿ", answer: "ç‰ çš„ã€Œé‚£è©±å…’ã€è£¡è—è‘—ä¸€æ ¹å‹•ç‰©ç•Œæœ€é•·çš„é™°è–éª¨ï¼Œè¶³è¶³æœ‰ä½ çš„å¤§è…¿éª¨é‚£éº¼é•·ï¼" },
            { question: "å¤§çŒ©çŒ©çš„é«”å‹é‚£éº¼å¤§ï¼Œç‰ çš„é™°è–ä¹Ÿå¾ˆå¤§å—ï¼Ÿ", answer: "éŒ¯ï¼ç‰ çš„ã€Œé‚£è©±å…’ã€å»æ˜¯ç›¸å°è¼ƒå°çš„ï¼Œé€™å‘Šè¨´æˆ‘å€‘ï¼Œå°ºå¯¸ä¸ä¸€å®šèˆ‡é«”å‹æˆæ­£æ¯”å–”ï¼" },
            { question: "å‹•ç‰©ç•Œçš„é–ƒé›»ä¿ æ˜¯èª°ï¼Ÿ", answer: "è¨±å¤šå‹•ç‰©çš„å°„ç²¾æ™‚é–“éƒ½éå¸¸çŸ­ï¼Œä¾‹å¦‚å…¬ç‰›ã€é•·é ¸é¹¿ã€ç¾Šã€å…”å­ç­‰ï¼Œç‰ å€‘çš„äº¤é…éç¨‹éƒ½éå¸¸è¿…é€Ÿï¼Œå ªç¨±å‹•ç‰©ç•Œçš„ã€Œé–ƒé›»ä¿ ã€ï¼" },
            { question: "å‹•ç‰©ç•Œçš„æ…¢éƒä¸­æ˜¯èª°ï¼Ÿ", answer: "åœ¨å“ºä¹³é¡å‹•ç‰©ä¸­ï¼Œç‹—å’Œç‹¼çš„å°„ç²¾æ™‚é–“ç›¸å°è¼ƒé•·ï¼Œå› ç‚ºç‰ å€‘æœ‰ã€Œé–å®šã€ç¾è±¡ï¼Œå¯ä»¥æŒçºŒæ•¸åˆ†é˜ç”šè‡³åŠå°æ™‚ï¼" },
            // æ–°å¢çš„æ·±åº¦é¡Œç›®
            { question: "æ ¹æ“šè¡¨æ ¼ï¼Œè—é¯¨æ˜¯é«”å‹æœ€å¤§çš„å‹•ç‰©ï¼Œæ“æœ‰æœ€å¤§çš„é™°è–ã€‚ç„¶è€Œï¼Œå¤§çŒ©çŒ©é«”å‹é¾å¤§ï¼Œé™°è–å»ç›¸å°è¼ƒå°ã€‚é€™èªªæ˜äº†ä»€éº¼é—œæ–¼å‹•ç‰©é«”å‹å’Œé™°è–å°ºå¯¸ä¹‹é–“çš„é—œä¿‚ï¼Ÿ", answer: "é€™èªªæ˜å‹•ç‰©çš„é™°è–å°ºå¯¸ä¸ä¸€å®šèˆ‡å…¶æ•´é«”é«”å‹æˆæ­£æ¯”ã€‚ä¸åŒç‰©ç¨®çš„ç”Ÿæ®–ç­–ç•¥å’Œæ¼”åŒ–å£“åŠ›æœƒå°è‡´é™°è–å°ºå¯¸çš„å·¨å¤§å·®ç•°ï¼Œå³ä½¿æ˜¯é«”å‹ç›¸è¿‘çš„å‹•ç‰©ä¹Ÿå¯èƒ½å¦‚æ­¤ã€‚" },
            { question: "å°„ç²¾æ™‚é–“çš„é•·çŸ­å¯èƒ½èˆ‡å‹•ç‰©çš„ç”Ÿæ®–ç­–ç•¥æˆ–ç”Ÿå­˜ç’°å¢ƒæœ‰é—œã€‚ä½ èªç‚ºè¡¨æ ¼ä¸­å°„ç²¾æ™‚é–“æ¥µçŸ­å’Œç›¸å°è¼ƒé•·çš„å‹•ç‰©ï¼Œå„è‡ªå¯èƒ½é¢è‡¨ä»€éº¼ä¸åŒçš„æ¼”åŒ–å£“åŠ›ï¼Ÿ", answer: "å°„ç²¾æ™‚é–“çš„é•·çŸ­å¯èƒ½åæ˜ äº†ä¸åŒçš„ç”Ÿæ®–ç­–ç•¥ã€‚å¿«é€Ÿå°„ç²¾çš„å‹•ç‰©å¯èƒ½éœ€è¦åœ¨çŸ­æ™‚é–“å…§å®Œæˆäº¤é…ä»¥é¿å…æ•é£Ÿè€…æˆ–ç«¶çˆ­è€…ï¼›è€Œå°„ç²¾æ™‚é–“è¼ƒé•·çš„å‹•ç‰©ï¼ˆå¦‚ç‹—çš„ã€Œé–å®šã€ï¼‰å¯èƒ½æ—¨åœ¨ç¢ºä¿ç²¾å­èƒ½æ›´æœ‰æ•ˆåœ°å—å­•ï¼Œæ¸›å°‘ç²¾å­ç«¶çˆ­ï¼Œæˆ–åœ¨ç‰¹å®šäº¤é…ç³»çµ±ä¸­ç™¼æ®ä½œç”¨ã€‚" },
            { question: "è¡¨æ ¼ä¸­æåˆ°è²“ç§‘å‹•ç‰©é™°è–æœ‰å€’åˆºï¼Œè±¬çš„é™°è–å‘ˆèºæ—‹ç‹€ã€‚é€™äº›ç‰¹æ®Šçš„é™°è–çµæ§‹å°ç‰ å€‘çš„ç¹æ®–æœ‰ä½•å¹«åŠ©ï¼Ÿ", answer: "é€™äº›ç‰¹æ®Šçµæ§‹æ˜¯ç‚ºäº†é©æ‡‰ä¸åŒçš„ç”Ÿæ®–éœ€æ±‚ã€‚è²“ç§‘å‹•ç‰©çš„å€’åˆºèƒ½åˆºæ¿€é›Œæ€§æ’åµï¼Œæé«˜å—å­•ç‡ã€‚è±¬çš„èºæ—‹ç‹€é™°è–å‰‡èƒ½æ›´å¥½åœ°é©æ‡‰é›Œæ€§ç”Ÿæ®–é“çš„èºæ—‹å½¢ç‹€ï¼Œç¢ºä¿ç²¾å­èƒ½æ›´æœ‰æ•ˆåœ°é€é”ã€‚é€™äº›éƒ½æ˜¯ç‚ºäº†æœ€å¤§åŒ–ç¹æ®–æˆåŠŸç‡çš„æ¼”åŒ–é©æ‡‰ã€‚" }
        ];

        const tableBody = document.getElementById('mammal-table-body');
        let currentSortColumn = 'rank'; // é è¨­æ’åºæ¬„ä½æ”¹ç‚º 'rank'
        let currentSortDirection = 'asc'; // é è¨­æ’åºæ–¹å‘æ”¹ç‚º 'asc' (ç”±å°åˆ°å¤§)

        // å¿«å•å¿«ç­”ç›¸é—œå…ƒç´ 
        const qaQuestion = document.getElementById('qa-question');
        const qaAnswer = document.getElementById('qa-answer');
        const showAnswerBtn = document.getElementById('show-answer-btn');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const restartQuizBtn = document.getElementById('restart-quiz-btn');

        let shuffledQaData = []; // ç”¨æ–¼å„²å­˜æ‰“äº‚å¾Œçš„é¡Œç›®
        let currentQaIndex = 0;

        // è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—ç›¸é—œå…ƒç´ 
        const funNoteModalOverlay = document.getElementById('fun-note-modal-overlay');
        const funNoteModalCloseBtn = document.getElementById('fun-note-modal-close');
        const modalAnimalName = document.getElementById('modal-animal-name');
        const modalFunNote = document.getElementById('modal-fun-note');


        // åˆå§‹åŒ– Tone.js åˆæˆå™¨
        const synth = new Tone.Synth().toDestination();

        // æ’­æ”¾æ»´ç­”è²çš„å‡½æ•¸
        function playTickSound() {
            // åœ¨æ’­æ”¾éŸ³æ•ˆå‰æª¢æŸ¥ AudioContext ç‹€æ…‹ä¸¦å˜—è©¦æ¢å¾©
            if (Tone.context.state !== 'running') {
                // å¦‚æœ AudioContext å°šæœªé‹è¡Œï¼Œå˜—è©¦æ¢å¾©ä¸¦åœ¨æ¢å¾©å¾Œæ’­æ”¾éŸ³æ•ˆ
                Tone.context.resume().then(() => {
                    // ä½¿ç”¨ Tone.context.currentTime é¿å…é‡è¤‡è§¸ç™¼æ™‚ç™¼ç”Ÿæ™‚é–“éŒ¯èª¤
                    synth.triggerAttackRelease("C4", "8n", Tone.context.currentTime);
                });
            } else {
                // å¦‚æœ AudioContext å·²ç¶“é‹è¡Œï¼Œç›´æ¥æ’­æ”¾éŸ³æ•ˆ
                synth.triggerAttackRelease("C4", "8n", Tone.context.currentTime);
            }
        }

        // Fisher-Yates æ´—ç‰Œæ¼”ç®—æ³•
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // äº¤æ›å…ƒç´ 
            }
            return array;
        }

        // æ¸²æŸ“è¡¨æ ¼å…§å®¹çš„å‡½æ•¸
        function renderTable(data) {
            tableBody.innerHTML = ''; // æ¸…ç©ºç¾æœ‰å…§å®¹
            // éæ¿¾æ•¸æ“šï¼Œåªé¡¯ç¤ºæ’ååœ¨ 30 æˆ–ä»¥ä¸‹çš„å‹•ç‰©
            const filteredData = data.filter(item => item.rank <= 30);

            filteredData.forEach((item, index) => {
                const row = document.createElement('tr');
                row.classList.add('hover:bg-pink-50', 'transition-all', 'duration-200', 'ease-in-out');

                // å¶æ•¸è¡Œæ·»åŠ èƒŒæ™¯è‰²ï¼Œå¢åŠ å¯è®€æ€§ (åŸºæ–¼ç•¶å‰ç´¢å¼•)
                if (index % 2 === 0) {
                    row.classList.add('bg-gray-50');
                }

                // æ¨™ç¤ºäººé¡è¡Œ
                if (item.animal.includes('äººé¡')) { // æª¢æŸ¥æ˜¯å¦åŒ…å«ã€Œäººé¡ã€
                    row.classList.add('highlight-human');
                }

                // æº–å‚™å‹•ç‰©åç¨±çš„é¡¯ç¤ºå…§å®¹
                let animalContentHtml;
                if (item.rank === 1) { // åªæœ‰ç•¶æ’åç‚º1æ™‚æ‰åŠ ä¸Šçš‡å† 
                    animalContentHtml = `
                        <div class="animal-cell-content">
                            <span class="crown-emoji">ğŸ‘‘</span>
                            <button type="button" class="animal-name-button" data-animal="${item.animal}" data-note="${item.notes}">${item.animal}</button>
                        </div>
                    `;
                } else {
                    animalContentHtml = `
                        <div class="animal-cell-content">
                            <button type="button" class="animal-name-button" data-animal="${item.animal}" data-note="${item.notes}">${item.animal}</button>
                        </div>
                    `;
                }


                row.innerHTML = `
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.rank}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${animalContentHtml}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.lengthText}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.ejaculationText}</td>
                `;
                tableBody.appendChild(row);
            });

            // åœ¨æ‰€æœ‰è¡Œæ¸²æŸ“å®Œç•¢å¾Œï¼Œç‚ºæ‰€æœ‰ animal-name-button æ·»åŠ äº‹ä»¶ç›£è½å™¨
            document.querySelectorAll('.animal-name-button').forEach(button => {
                button.addEventListener('click', (event) => {
                    const animal = event.target.dataset.animal;
                    const note = event.target.dataset.note;
                    showFunNoteModal(animal, note);
                });
            });
        }

        // æ’åºè¡¨æ ¼çš„å‡½æ•¸
        function sortTable(column) {
            // å¦‚æœé»æ“Šçš„æ˜¯ç•¶å‰æ’åºæ¬„ä½ï¼Œå‰‡åˆ‡æ›æ’åºæ–¹å‘
            if (currentSortColumn === column) {
                currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                // å¦å‰‡ï¼Œè¨­å®šæ–°çš„æ’åºæ¬„ä½ä¸¦é‡ç½®ç‚ºå‡åº
                currentSortColumn = column;
                currentSortDirection = 'asc';
            }

            // æ¸…é™¤æ‰€æœ‰ç®­é ­æ¨£å¼
            document.querySelectorAll('.sort-arrow').forEach(arrow => {
                arrow.classList.remove('sort-asc', 'sort-desc');
            });

            // æ ¹æ“šæ’åºæ–¹å‘æ·»åŠ ç®­é ­æ¨£å¼
            const currentArrow = document.getElementById(`sort-${column}`);
            if (currentArrow) {
                currentArrow.classList.add(currentSortDirection === 'asc' ? 'sort-asc' : 'sort-desc');
            }

            // åŸ·è¡Œæ’åº
            const sortedData = [...mammalData].sort((a, b) => {
                let valA = a[column];
                let valB = b[column];

                // è™•ç†å­—ç¬¦ä¸²æ’åº
                if (typeof valA === 'string' && typeof valB === 'string') {
                    return currentSortDirection === 'asc' ? valA.localeCompare(valB) : valB.localeCompare(valA);
                }
                // è™•ç†æ•¸å­—æ’åºï¼ŒåŒ…æ‹¬ Infinity (ä¸è©³) çš„æƒ…æ³
                if (valA === Infinity && valB !== Infinity) return currentSortDirection === 'asc' ? 1 : -1;
                if (valB === Infinity && valA !== Infinity) return currentSortDirection === 'asc' ? -1 : 1;
                if (valA === Infinity && valB === Infinity) return 0; // å…©å€‹éƒ½æ˜¯ Infinity å‰‡è¦–ç‚ºç›¸ç­‰

                return currentSortDirection === 'asc' ? valA - valB : valB - valA;
            });

            renderTable(sortedData); // é‡æ–°æ¸²æŸ“è¡¨æ ¼
        }

        // ç‚ºå¯æ’åºçš„æ¨™é ­æ·»åŠ é»æ“Šäº‹ä»¶ç›£è½å™¨
        document.querySelectorAll('th[data-sort-by]').forEach(header => {
            header.addEventListener('click', () => {
                const sortBy = header.getAttribute('data-sort-by');
                sortTable(sortBy);
            });
        });

        // å¿«å•å¿«ç­”å‡½æ•¸
        function displayQuestion() {
            if (currentQaIndex < shuffledQaData.length) {
                qaQuestion.textContent = `Q${currentQaIndex + 1}: ${shuffledQaData[currentQaIndex].question}`;
                qaAnswer.textContent = shuffledQaData[currentQaIndex].answer;
                qaAnswer.classList.add('hidden'); // é è¨­éš±è—ç­”æ¡ˆ
                showAnswerBtn.classList.remove('hidden');
                nextQuestionBtn.classList.remove('hidden');
                restartQuizBtn.classList.add('hidden');
                playTickSound(); // é¡¯ç¤ºæ–°é¡Œç›®æ™‚æ’­æ”¾æ»´ç­”è²
            } else {
                // æ‰€æœ‰å•é¡Œéƒ½å›ç­”å®Œç•¢
                qaQuestion.textContent = "æ­å–œä½ ï¼æ‰€æœ‰å•é¡Œéƒ½å›ç­”å®Œç•¢äº†ï¼ğŸ‰";
                qaAnswer.textContent = "é»æ“Šã€Œé‡æ–°é–‹å§‹ã€å†æ¬¡æŒ‘æˆ°å§ï¼";
                qaAnswer.classList.remove('hidden');
                showAnswerBtn.classList.add('hidden');
                nextQuestionBtn.classList.add('hidden');
                restartQuizBtn.classList.remove('hidden');
            }
        }

        function showAnswer() {
            qaAnswer.classList.remove('hidden');
            showAnswerBtn.classList.add('hidden');
        }

        function nextQuestion() {
            currentQaIndex++;
            displayQuestion();
        }

        function restartQuiz() {
            currentQaIndex = 0;
            shuffledQaData = shuffleArray([...qaData]); // é‡æ–°æ‰“äº‚é¡Œç›®
            displayQuestion();
        }

        // äº‹ä»¶ç›£è½å™¨
        showAnswerBtn.addEventListener('click', showAnswer);
        nextQuestionBtn.addEventListener('click', nextQuestion);
        restartQuizBtn.addEventListener('click', restartQuiz);

        // é¡¯ç¤ºè¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—
        function showFunNoteModal(animal, note) {
            modalAnimalName.textContent = animal;
            modalFunNote.textContent = note;
            funNoteModalOverlay.classList.remove('hidden');
        }

        // é—œé–‰è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—
        function closeFunNoteModal() {
            funNoteModalOverlay.classList.add('hidden');
        }

        // å½ˆå‡ºè¦–çª—é—œé–‰æŒ‰éˆ•äº‹ä»¶
        funNoteModalCloseBtn.addEventListener('click', closeFunNoteModal);

        // é»æ“Šå½ˆå‡ºè¦–çª—å¤–éƒ¨é—œé–‰è¦–çª—
        funNoteModalOverlay.addEventListener('click', (event) => {
            if (event.target === funNoteModalOverlay) {
                closeFunNoteModal();
            }
        });


        // é é¢è¼‰å…¥æ™‚ï¼Œé è¨­ä»¥æ’åï¼ˆç”±å°åˆ°å¤§ï¼‰æ’åºä¸¦æ¸²æŸ“è¡¨æ ¼ï¼ŒåŒæ™‚åˆå§‹åŒ–å¿«å•å¿«ç­”
        window.onload = () => {
            // åˆå§‹æ¸²æŸ“ï¼šç›´æ¥ä»¥ rank å‡åºæ’åºä¸¦æ¸²æŸ“
            const initialSortedData = [...mammalData].sort((a, b) => a.rank - b.rank); // æ ¹æ“š rank é€²è¡Œå‡åºæ’åº
            renderTable(initialSortedData);

            // è¨­å®šåˆå§‹æ’åºç‹€æ…‹ï¼Œä»¥ä¾¿å¾ŒçºŒé»æ“Šèƒ½æ­£ç¢ºåˆ‡æ›
            currentSortColumn = 'rank';
            currentSortDirection = 'asc';

            // æ‰‹å‹•è¨­å®šåˆå§‹æ’åºç®­é ­
            const initialArrow = document.getElementById(`sort-${currentSortColumn}`);
            if (initialArrow) {
                initialArrow.classList.add('sort-asc'); // é è¨­ç‚ºå‡åºç®­é ­
            }

            // åˆå§‹åŒ–å¿«å•å¿«ç­”ï¼šæ‰“äº‚é¡Œç›®ä¸¦é¡¯ç¤ºç¬¬ä¸€é¡Œ
            shuffledQaData = shuffleArray([...qaData]);
            displayQuestion();
        };
    </script>
</body>
</html>

            transform: translateY(0); /* ç¦ç”¨æ™‚ç„¡å‹•ç•« */
        }
        /* äººé¡è¡Œæ¨™ç¤ºæ¨£å¼ */
        .highlight-human {
            background-color: #fffacd !important; /* æ·ºé»ƒè‰²èƒŒæ™¯ */
            font-weight: bold;
            color: #8b4513; /* æ·±æ£•è‰²æ–‡å­— */
        }
        /* çš‡å† è¡¨æƒ…ç¬¦è™Ÿçš„æ¨£å¼ */
        .crown-emoji {
            font-size: 1.8em; /* è®“çš‡å† æ›´å¤§ */
            line-height: 1; /* èª¿æ•´è¡Œé«˜ä»¥æ›´å¥½åœ°å®šä½ */
            display: block; /* è®“çš‡å† ç¨ä½”ä¸€è¡Œ */
            margin-bottom: 0.2em; /* å¢åŠ èˆ‡æ–‡å­—çš„é–“è· */
        }
        /* åŒ…å«çš‡å† å’Œå‹•ç‰©åç¨±çš„å–®å…ƒæ ¼æ¨£å¼ */
        .animal-cell-content {
            display: flex;
            flex-direction: column; /* å‚ç›´æ’åˆ— */
            align-items: center; /* æ°´å¹³å±…ä¸­ */
            justify-content: center; /* å‚ç›´å±…ä¸­ */
            text-align: center; /* æ–‡å­—å±…ä¸­ */
            height: 100%; /* è®“å…§å®¹ä½”æ»¿å–®å…ƒæ ¼é«˜åº¦ */
        }
        /* å‹•ç‰©åç¨±æŒ‰éˆ•æ¨£å¼ */
        .animal-name-button {
            @apply bg-transparent text-gray-800 font-semibold py-1 px-2 rounded-md;
            @apply hover:underline hover:text-pink-600 transition-colors duration-150;
            cursor: pointer;
            border: none; /* ç§»é™¤é è¨­æŒ‰éˆ•é‚Šæ¡† */
            display: inline-block; /* å…è¨±æ–‡å­—æ›è¡Œ */
            white-space: normal; /* å…è¨±æ–‡å­—æ›è¡Œ */
            line-height: 1.2; /* èª¿æ•´è¡Œé«˜è®“æ–‡å­—æ›´ç·Šæ¹Š */
        }
        .highlight-human .animal-name-button {
            @apply text-orange-800; /* èª¿æ•´é«˜äº®è¡Œæ–‡å­—é¡è‰² */
        }

        /* è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—æ¨£å¼ */
        .fun-note-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000; /* ç¢ºä¿åœ¨æœ€ä¸Šå±¤ */
        }

        .fun-note-modal-content {
            background-color: #fff;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            max-width: 90%;
            width: 400px; /* ç·Šæ¹Šçš„å›ºå®šå¯¬åº¦ */
            position: relative;
            animation: fadeInScale 0.3s ease-out forwards; /* åŠ å…¥å‹•ç•« */
        }

        .fun-note-modal-close {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #9ca3af; /* ç°è‰² */
            cursor: pointer;
            padding: 0.25rem;
            line-height: 1;
            transition: color 0.2s ease-in-out;
        }

        .fun-note-modal-close:hover {
            color: #ef4444; /* ç´…è‰² */
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center">
    <div class="bg-white rounded-lg shadow-2xl p-6 max-w-5xl w-full my-8">
        <h1 class="text-4xl font-extrabold text-center text-pink-600 mb-6 animate-pulse">
            èª°æœ€å±Œï¼ï¼Ÿ ğŸ† å“ºä¹³é¡å‹•ç‰©çš„ã€Œé‚£è©±å…’ã€å¤§å…¬é–‹ï¼ â±ï¸
        </h1>
        <p class="text-lg text-gray-700 text-center mb-4">
            å¥½å¥‡å‹•ç‰©ç•Œçš„ã€Œå°ºå¯¸ã€èˆ‡ã€ŒæŒä¹…åŠ›ã€å—ï¼Ÿä¸€èµ·ä¾†çœ‹çœ‹é€™äº›ä»¤äººé©šè¨ğŸ™€çš„æ•¸æ“šå§ï¼
        </p>
        <p class="text-lg text-gray-700 text-center mb-8 font-semibold text-purple-700">
            åˆ¥å¿˜äº†ï¼Œé é¢ä¸‹æ–¹é‚„æœ‰åˆºæ¿€çš„**å¿«å•å¿«ç­”**ç­‰ä½ ä¾†**æº–å‚™å¥½è…¦åŠ›æ¿€ç›ªäº†å—ï¼Ÿ**ğŸ§ 
        </p>

        <div class="overflow-x-auto rounded-lg border border-gray-200 shadow-md">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-pink-500 text-white">
                    <tr>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider rounded-tl-lg cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="rank">
                            æ’å
                            <span class="sort-arrow" id="sort-rank"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="animal">
                            å‹•ç‰©ç¨®é¡ ğŸ¾
                            <span class="sort-arrow" id="sort-animal"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="lengthSort">
                            å‹ƒèµ·é•·åº¦ (ç´„ç•¥) ğŸ“
                            <span class="sort-arrow" id="sort-lengthSort"></span>
                        </th>
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-pink-600 transition-colors duration-200" data-sort-by="ejaculationSort">
                            å°„ç²¾æ™‚é–“ (ç´„ç•¥) â±ï¸
                            <span class="sort-arrow" id="sort-ejaculationSort"></span>
                        </th>
                        <!-- è¶£å‘³å‚™è¨»æ¬„ä½å·²ç§»é™¤ -->
                    </tr>
                </thead>
                <tbody id="mammal-table-body" class="bg-white divide-y divide-gray-200">
                    <!-- è¡¨æ ¼å…§å®¹å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
                </tbody>
            </table>
        </div>

        <!-- å¿«å•å¿«ç­”å€å¡Š -->
        <div class="fun-facts-section">
            <h2 class="text-center text-2xl font-bold mb-4">ğŸ§  å¿«å•å¿«ç­”æ™‚é–“ï¼è€ƒè€ƒä½ å°å‹•ç‰©çš„äº†è§£ï¼ ğŸ’¡</h2>
            <div id="qa-container" class="text-center p-4">
                <p id="qa-question" class="text-xl font-semibold text-gray-800 mb-4"></p>
                <p id="qa-answer" class="text-lg text-gray-700 mb-6 hidden"></p>
                <div class="space-x-4">
                    <button id="show-answer-btn" class="qa-button">é¡¯ç¤ºç­”æ¡ˆ</button>
                    <button id="next-question-btn" class="qa-button">ä¸‹ä¸€é¡Œ</button>
                    <button id="restart-quiz-btn" class="qa-button hidden">é‡æ–°é–‹å§‹</button>
                </div>
            </div>
        </div>

        <p class="text-sm text-gray-600 mt-6 text-center">
            <strong class="font-semibold">å…è²¬è²æ˜ï¼š</strong> é€™äº›æ•¸æ“šä¸»è¦ä¾†è‡ªç§‘å­¸ç ”ç©¶å’Œè§€å¯Ÿï¼Œä½†å¯¦éš›æƒ…æ³å¯èƒ½å› å€‹é«”ã€ç’°å¢ƒå’Œæ¸¬é‡æ–¹æ³•è€Œç•°ã€‚
        </p>
    </div>

    <!-- è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª— (Modal) -->
    <div id="fun-note-modal-overlay" class="fun-note-modal-overlay hidden">
        <div class="fun-note-modal-content">
            <button id="fun-note-modal-close" class="fun-note-modal-close">&times;</button>
            <h3 id="modal-animal-name" class="text-2xl font-bold text-pink-600 mb-3 text-center"></h3>
            <p id="modal-fun-note" class="text-gray-700 text-base leading-relaxed"></p>
        </div>
    </div>

    <script>
        // å“ºä¹³é¡å‹•ç‰©æ•¸æ“šï¼ŒåŠ å…¥æ›´å¤šè¶£å‘³æè¿°å’Œæ’åºç”¨çš„æ•¸å€¼
        // åƒ…ä¿ç•™æ’å 1 åˆ° 30 çš„å‹•ç‰©
        const mammalData = [
            { rank: 1, animal: "è—é¯¨ ğŸ³", lengthText: "240 - 300 å…¬åˆ† (ç´„ä¸€å°å…¬è»Šé•·)", lengthSort: 270, ejaculationText: "æ·±æµ·ç§˜å¯†ï¼Œå°šå¾…æ¢ç´¢ï¼", ejaculationSort: Infinity, notes: "åœ°çƒä¸Šé«”å‹æœ€å¤§çš„å‹•ç‰©ï¼Œå…¶é™°è–ä¹Ÿæ˜¯å·²çŸ¥å‹•ç‰©ä¸­æœ€å¤§çš„ï¼Œç°¡ç›´æ˜¯æµ·æ´‹å·¨ç„¡éœ¸ï¼" },
            { rank: 2, animal: "éæ´²è±¡ ğŸ˜", lengthText: "100 - 180 å…¬åˆ† (ç´„ä¸€å€‹æˆå¹´äººé«˜)", lengthSort: 140, ejaculationText: "é–ƒé›»èˆ¬è¿…é€Ÿï¼", ejaculationSort: 60, notes: "é™¸åœ°ä¸Šé™°è–æœ€é•·çš„å‹•ç‰©ï¼Œå¨é¢¨å‡œå‡œï¼" },
            { rank: 3, animal: "å…¬ç‰› ğŸ‚", lengthText: "80 - 100 å…¬åˆ†", lengthSort: 90, ejaculationText: "ä¸€çœ¨çœ¼å°±æå®šï¼", ejaculationSort: 5, notes: "å®ƒçš„ã€Œé‚£è©±å…’ã€ä¸»è¦æ˜¯ä¼¸é•·ï¼Œè€Œä¸æ˜¯è®Šç²—ï¼Œæ•ˆç‡è‡³ä¸Šï¼" },
            { rank: 4, animal: "é•·é ¸é¹¿ ğŸ¦’", lengthText: "70 - 100 å…¬åˆ†", lengthSort: 85, ejaculationText: "å’»ä¸€ä¸‹å°±å®Œæˆäº†ï¼", ejaculationSort: 5, notes: "é«˜é«˜åœ¨ä¸Šçš„ç‰ å€‘ï¼Œé€£é€™æ–¹é¢ä¹Ÿèˆ‡çœ¾ä¸åŒï¼" },
            { rank: 5, animal: "æµ·è±¡ ğŸ¦­", lengthText: "60 - 75 å…¬åˆ†", lengthSort: 67.5, ejaculationText: "å†°æµ·ä¹‹è¬ï¼", ejaculationSort: Infinity, notes: "æ“æœ‰æ‰€æœ‰å“ºä¹³å‹•ç‰©ä¸­æœ€é•·çš„é™°è–éª¨ï¼Œç¡¬åº¦é©šäººï¼" },
            { rank: 6, animal: "é¦¬ ğŸ", lengthText: "50 - 100 å…¬åˆ†", lengthSort: 75, ejaculationText: "å¹¾ç§’é˜çš„äº‹ï¼", ejaculationSort: 30, notes: "å‹ƒèµ·æ™‚é•·åº¦å¯é”å¹³æ™‚çš„å…©å€ï¼Œè®ŠåŒ–è¶…å¤§ï¼" },
            { rank: 7, animal: "è±¬ ğŸ–", lengthText: "30 - 50 å…¬åˆ†", lengthSort: 40, ejaculationText: "è€å¿ƒç­‰å¾… 5-15 åˆ†é˜ï¼", ejaculationSort: 600, notes: "ç¨ç‰¹çš„èºæ—‹ç‹€é™°è–ï¼Œç‚ºäº†æ›´ã€Œç·Šå¯†ã€çš„çµåˆï¼" },
            { rank: 8, animal: "é©¢ ğŸ´", lengthText: "25 - 40 å…¬åˆ†", lengthSort: 32.5, ejaculationText: "ç¬é–“å®Œæˆï¼", ejaculationSort: 30, notes: "" },
            { rank: 9, animal: "ç°ç†Š ğŸ»", lengthText: "20 - 30 å…¬åˆ†", lengthSort: 25, ejaculationText: "æ£®æ—è£¡çš„ç§˜å¯†ï¼", ejaculationSort: Infinity, notes: "" },
            { rank: 10, animal: "é§±é§ ğŸª", lengthText: "20 - 30 å…¬åˆ†", lengthSort: 25, ejaculationText: "å¹¾åˆ†é˜çš„æµªæ¼«ï¼", ejaculationSort: 120, notes: "æ²™æ¼ ä¸­çš„è€åŠ›ç‹è€…ï¼Œé€£é€™æ–¹é¢ä¹Ÿå¾ˆæœ‰è€å¿ƒï¼" },
            { rank: 11, animal: "ç´…é¹¿ ğŸ¦Œ", lengthText: "15 - 25 å…¬åˆ†", lengthSort: 20, ejaculationText: "å¿«é€Ÿæå®šï¼", ejaculationSort: 5, notes: "" },
            { rank: 12, animal: "ç¾Š ğŸ‘", lengthText: "15 - 20 å…¬åˆ†", lengthSort: 17.5, ejaculationText: "å’»ä¸€ä¸‹å°±çµæŸäº†ï¼", ejaculationSort: 5, notes: "" },
            { rank: 13, animal: "å±±ç¾Š ğŸ", lengthText: "15 - 20 å…¬åˆ†", lengthSort: 17.5, ejaculationText: "ç¬é–“å®Œæˆï¼", ejaculationSort: 5, notes: "" },
            { rank: 14, animal: "äººé¡ ğŸ§", lengthText: "13 - 15 å…¬åˆ†", lengthSort: 14, ejaculationText: "æ•¸åˆ†é˜ï¼Œå› äººè€Œç•°ï¼", ejaculationSort: 120, notes: "å¹³å‡å‹ƒèµ·é•·åº¦ï¼Œä½†ã€Œå°ºå¯¸ã€å’Œã€Œæ™‚é–“ã€éƒ½æ˜¯å€‹é«”å·®ç•°å¾ˆå¤§çš„è©±é¡Œå–”ï¼" },
            { rank: 15, animal: "è€è™ ğŸ…", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "é›»å…‰ç«çŸ³ä¹‹é–“ï¼", ejaculationSort: 5, notes: "é™°è–å¸¶æœ‰å€’åˆºï¼Œç‚ºäº†å¿«é€Ÿåˆºæ¿€é›Œæ€§æ’åµï¼" },
            { rank: 16, animal: "ç…å­ ğŸ¦", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "è¿…é€Ÿæå®šï¼", ejaculationSort: 5, notes: "èˆ‡è€è™é¡ä¼¼ï¼Œä¹Ÿæ˜¯å¸¶åˆºçš„ã€Œé‚£è©±å…’ã€ï¼" },
            { rank: 17, animal: "ç‹— ğŸ¶", lengthText: "5 - 20 å…¬åˆ†", lengthSort: 12.5, ejaculationText: "5 - 30 åˆ†é˜ (é–å®šä¸­...)", ejaculationSort: 1000, notes: "äº¤é…æ™‚æœƒå‡ºç¾ã€Œé–å®šã€ç¾è±¡ï¼Œæ‰€ä»¥æ™‚é–“æœƒæ¯”è¼ƒé•·å–”ï¼" },
            { rank: 18, animal: "è¢‹é¼  ğŸ¦˜", lengthText: "10 - 20 å…¬åˆ†", lengthSort: 15, ejaculationText: "å¾ˆå¿«çš„ï¼", ejaculationSort: 5, notes: "æ“æœ‰ç¨ç‰¹çš„é›™é ­é™°è–ï¼Œé©æ‡‰é›Œæ€§çš„é›™é™°é“çµæ§‹ï¼" },
            { rank: 19, animal: "ç‹¼ ğŸº", lengthText: "8 - 15 å…¬åˆ†", lengthSort: 11.5, ejaculationText: "5 - 30 åˆ†é˜ (é–å®šä¸­...)", ejaculationSort: 1000, notes: "å’Œç‹—ç‹—ä¸€æ¨£ï¼Œä¹Ÿæœƒæœ‰ã€Œé–å®šã€çš„ç‰¹æ®Šæ™‚åˆ»ï¼" },
            { rank: 20, animal: "ç†Šè²“ ğŸ¼", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "æº«æŸ”çš„å¹¾åˆ†é˜ï¼", ejaculationSort: 120, notes: "çœ‹ä¼¼ç¬¨æ‹™ï¼Œä½†é€™æ–¹é¢ä¹Ÿå¾ˆåŠªåŠ›ï¼" },
            { rank: 21, animal: "ç‹ç‹¸ ğŸ¦Š", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "å¹¾åˆ†é˜çš„æµªæ¼«ï¼", ejaculationSort: 120, notes: "" },
            { rank: 22, animal: "æ°´çº ğŸ¦¦", lengthText: "5 - 10 å…¬åˆ†", lengthSort: 7.5, ejaculationText: "æ°´ä¸‹é€²è¡Œï¼Œæ™‚é–“ä¸è©³ï¼", ejaculationSort: 60, notes: "æ°´ä¸­çš„å°ç²¾éˆï¼Œäº¤é…ä¹Ÿå¾ˆæœ‰è¶£ï¼" },
            { rank: 23, animal: "è™è  ğŸ¦‡", lengthText: "1 - 5 å…¬åˆ†", lengthSort: 3, ejaculationText: "å¤œé–“è¡Œå‹•ï¼Œæ˜¯å€‹è¬ï¼", ejaculationSort: Infinity, notes: "ç¨®é¡ç¹å¤šï¼Œå°ºå¯¸ä¹Ÿå„ç•°ï¼Œä½†é€šå¸¸éƒ½å°å·§ç²ç“ï¼" },
            { rank: 24, animal: "å¤§çŒ©çŒ© ğŸ¦", lengthText: "3 - 4 å…¬åˆ†", lengthSort: 3.5, ejaculationText: "æ•¸ç§’è‡³æ•¸åˆ†é˜ï¼Œå¾ˆæœ‰æ•ˆç‡ï¼", ejaculationSort: 60, notes: "é«”å‹é›–å¤§ï¼Œä½†ã€Œé‚£è©±å…’ã€å»ç›¸å°è¿·ä½ ï¼Œè­‰æ˜å°ºå¯¸ä¸æ˜¯å”¯ä¸€ï¼" },
            { rank: 25, animal: "è²“ ğŸ±", lengthText: "2 - 3 å…¬åˆ†", lengthSort: 2.5, ejaculationText: "å¿«é€Ÿé–ƒé›»æˆ°ï¼", ejaculationSort: 5, notes: "é™°è–å¸¶æœ‰å€’åˆºï¼Œæ˜¯ç‚ºäº†åˆºæ¿€é›Œè²“æ’åµçš„ç§˜å¯†æ­¦å™¨ï¼" },
            { rank: 26, animal: "å…”å­ ğŸ°", lengthText: "2 - 3 å…¬åˆ†", lengthSort: 2.5, ejaculationText: "ä¸€ç¬é–“çš„äº‹ï¼", ejaculationSort: 5, notes: "ç¹æ®–åŠ›è¶…å¼·çš„ç‰ å€‘ï¼Œäº¤é…ä¹Ÿè¶…ç´šè¿…é€Ÿï¼" },
            { rank: 27, animal: "è€é¼  ğŸ­", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "çœ¨çœ¼åŠŸå¤«ï¼", ejaculationSort: 5, notes: "" },
            { rank: 28, animal: "å€‰é¼  ğŸ¹", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "è¶…å…‰é€Ÿå®Œæˆï¼", ejaculationSort: 5, notes: "" },
            { rank: 29, animal: "é¼´é¼  ğŸ•³ï¸", lengthText: "1 - 2 å…¬åˆ†", lengthSort: 1.5, ejaculationText: "åœ°ä¸‹ä¸–ç•Œçš„ç§˜å¯†ï¼", ejaculationSort: Infinity, notes: "ç”Ÿæ´»åœ¨åœ°ä¸‹ï¼Œé€£é€™æ–¹é¢ä¹Ÿå……æ»¿ç¥ç§˜æ„Ÿï¼" },
            { rank: 30, animal: "é¼©é¼± ğŸ", lengthText: "0.5 - 1 å…¬åˆ†", lengthSort: 0.75, ejaculationText: "å°åˆ°çœ‹ä¸è¦‹çš„ç¬é–“ï¼", ejaculationSort: Infinity, notes: "é«”å‹éå¸¸å°ï¼Œé™°è–ä¹Ÿè¿·ä½ åˆ°ä¸è¡Œï¼Œä½†ä¾ç„¶èƒ½ç¹è¡å¾Œä»£ï¼" }
        ];

        // å¿«å•å¿«ç­”æ•¸æ“š
        const qaData = [
            { question: "è—é¯¨çš„ã€Œé‚£è©±å…’ã€æœ‰å¤šé•·ï¼Ÿ", answer: "ç´„ç­‰æ–¼ä¸€è¼›å°å‹å…¬è»Šçš„é•·åº¦ï¼çµ•å°æ˜¯å‹•ç‰©ç•Œçš„ã€Œå·¨ç„¡éœ¸ã€ï¼" },
            { question: "é™¸åœ°ä¸Šé™°è–æœ€é•·çš„å‹•ç‰©æ˜¯èª°ï¼Ÿ", answer: "éæ´²è±¡ï¼ç‰ çš„ã€Œé‚£è©±å…’ã€å¹¾ä¹å’Œä¸€å€‹æˆå¹´äººä¸€æ¨£é«˜ï¼" },
            { question: "ç‚ºä»€éº¼ç‹—å’Œç‹¼äº¤é…æ™‚é–“æœƒå¾ˆé•·ï¼Ÿ", answer: "å› ç‚ºç‰ å€‘åœ¨äº¤é…å¾Œæœƒå‡ºç¾ã€Œé–å®šã€ç¾è±¡ï¼Œé€™æ˜¯ç‚ºäº†ç¢ºä¿å—å­•æˆåŠŸç‡å–”ï¼" },
            { question: "è²“ç§‘å‹•ç‰©çš„é™°è–ä¸Šç‚ºä»€éº¼æœƒæœ‰å€’åˆºï¼Ÿ", answer: "é€™æ˜¯ç‚ºäº†åˆºæ¿€é›Œæ€§æ’åµï¼Œæé«˜ç¹æ®–æ•ˆç‡ï¼" },
            { question: "è±¬çš„é™°è–æœ‰ä»€éº¼ç‰¹åˆ¥ä¹‹è™•ï¼Ÿ", answer: "ç‰ çš„ã€Œé‚£è©±å…’ã€æ˜¯ç¨ç‰¹çš„èºæ—‹ç‹€ï¼Œç‚ºäº†æ›´ã€Œç·Šå¯†ã€çš„çµåˆï¼" },
            { question: "æµ·è±¡çš„ã€Œé‚£è©±å…’ã€è£¡æœ‰ä»€éº¼ç‰¹åˆ¥çš„éª¨é ­ï¼Ÿ", answer: "ç‰ çš„ã€Œé‚£è©±å…’ã€è£¡è—è‘—ä¸€æ ¹å‹•ç‰©ç•Œæœ€é•·çš„é™°è–éª¨ï¼Œè¶³è¶³æœ‰ä½ çš„å¤§è…¿éª¨é‚£éº¼é•·ï¼" },
            { question: "å¤§çŒ©çŒ©çš„é«”å‹é‚£éº¼å¤§ï¼Œç‰ çš„é™°è–ä¹Ÿå¾ˆå¤§å—ï¼Ÿ", answer: "éŒ¯ï¼ç‰ çš„ã€Œé‚£è©±å…’ã€å»æ˜¯ç›¸å°è¼ƒå°çš„ï¼Œé€™å‘Šè¨´æˆ‘å€‘ï¼Œå°ºå¯¸ä¸ä¸€å®šèˆ‡é«”å‹æˆæ­£æ¯”å–”ï¼" },
            { question: "å‹•ç‰©ç•Œçš„é–ƒé›»ä¿ æ˜¯èª°ï¼Ÿ", answer: "è¨±å¤šå‹•ç‰©çš„å°„ç²¾æ™‚é–“éƒ½éå¸¸çŸ­ï¼Œä¾‹å¦‚å…¬ç‰›ã€é•·é ¸é¹¿ã€ç¾Šã€å…”å­ç­‰ï¼Œç‰ å€‘çš„äº¤é…éç¨‹éƒ½éå¸¸è¿…é€Ÿï¼Œå ªç¨±å‹•ç‰©ç•Œçš„ã€Œé–ƒé›»ä¿ ã€ï¼" },
            { question: "å‹•ç‰©ç•Œçš„æ…¢éƒä¸­æ˜¯èª°ï¼Ÿ", answer: "åœ¨å“ºä¹³é¡å‹•ç‰©ä¸­ï¼Œç‹—å’Œç‹¼çš„å°„ç²¾æ™‚é–“ç›¸å°è¼ƒé•·ï¼Œå› ç‚ºç‰ å€‘æœ‰ã€Œé–å®šã€ç¾è±¡ï¼Œå¯ä»¥æŒçºŒæ•¸åˆ†é˜ç”šè‡³åŠå°æ™‚ï¼" },
            // æ–°å¢çš„æ·±åº¦é¡Œç›®
            { question: "æ ¹æ“šè¡¨æ ¼ï¼Œè—é¯¨æ˜¯é«”å‹æœ€å¤§çš„å‹•ç‰©ï¼Œæ“æœ‰æœ€å¤§çš„é™°è–ã€‚ç„¶è€Œï¼Œå¤§çŒ©çŒ©é«”å‹é¾å¤§ï¼Œé™°è–å»ç›¸å°è¼ƒå°ã€‚é€™èªªæ˜äº†ä»€éº¼é—œæ–¼å‹•ç‰©é«”å‹å’Œé™°è–å°ºå¯¸ä¹‹é–“çš„é—œä¿‚ï¼Ÿ", answer: "é€™èªªæ˜å‹•ç‰©çš„é™°è–å°ºå¯¸ä¸ä¸€å®šèˆ‡å…¶æ•´é«”é«”å‹æˆæ­£æ¯”ã€‚ä¸åŒç‰©ç¨®çš„ç”Ÿæ®–ç­–ç•¥å’Œæ¼”åŒ–å£“åŠ›æœƒå°è‡´é™°è–å°ºå¯¸çš„å·¨å¤§å·®ç•°ï¼Œå³ä½¿æ˜¯é«”å‹ç›¸è¿‘çš„å‹•ç‰©ä¹Ÿå¯èƒ½å¦‚æ­¤ã€‚" },
            { question: "å°„ç²¾æ™‚é–“çš„é•·çŸ­å¯èƒ½èˆ‡å‹•ç‰©çš„ç”Ÿæ®–ç­–ç•¥æˆ–ç”Ÿå­˜ç’°å¢ƒæœ‰é—œã€‚ä½ èªç‚ºè¡¨æ ¼ä¸­å°„ç²¾æ™‚é–“æ¥µçŸ­å’Œç›¸å°è¼ƒé•·çš„å‹•ç‰©ï¼Œå„è‡ªå¯èƒ½é¢è‡¨ä»€éº¼ä¸åŒçš„æ¼”åŒ–å£“åŠ›ï¼Ÿ", answer: "å°„ç²¾æ™‚é–“çš„é•·çŸ­å¯èƒ½åæ˜ äº†ä¸åŒçš„ç”Ÿæ®–ç­–ç•¥ã€‚å¿«é€Ÿå°„ç²¾çš„å‹•ç‰©å¯èƒ½éœ€è¦åœ¨çŸ­æ™‚é–“å…§å®Œæˆäº¤é…ä»¥é¿å…æ•é£Ÿè€…æˆ–ç«¶çˆ­è€…ï¼›è€Œå°„ç²¾æ™‚é–“è¼ƒé•·çš„å‹•ç‰©ï¼ˆå¦‚ç‹—çš„ã€Œé–å®šã€ï¼‰å¯èƒ½æ—¨åœ¨ç¢ºä¿ç²¾å­èƒ½æ›´æœ‰æ•ˆåœ°å—å­•ï¼Œæ¸›å°‘ç²¾å­ç«¶çˆ­ï¼Œæˆ–åœ¨ç‰¹å®šäº¤é…ç³»çµ±ä¸­ç™¼æ®ä½œç”¨ã€‚" },
            { question: "è¡¨æ ¼ä¸­æåˆ°è²“ç§‘å‹•ç‰©é™°è–æœ‰å€’åˆºï¼Œè±¬çš„é™°è–å‘ˆèºæ—‹ç‹€ã€‚é€™äº›ç‰¹æ®Šçš„é™°è–çµæ§‹å°ç‰ å€‘çš„ç¹æ®–æœ‰ä½•å¹«åŠ©ï¼Ÿ", answer: "é€™äº›ç‰¹æ®Šçµæ§‹æ˜¯ç‚ºäº†é©æ‡‰ä¸åŒçš„ç”Ÿæ®–éœ€æ±‚ã€‚è²“ç§‘å‹•ç‰©çš„å€’åˆºèƒ½åˆºæ¿€é›Œæ€§æ’åµï¼Œæé«˜å—å­•ç‡ã€‚è±¬çš„èºæ—‹ç‹€é™°è–å‰‡èƒ½æ›´å¥½åœ°é©æ‡‰é›Œæ€§ç”Ÿæ®–é“çš„èºæ—‹å½¢ç‹€ï¼Œç¢ºä¿ç²¾å­èƒ½æ›´æœ‰æ•ˆåœ°é€é”ã€‚é€™äº›éƒ½æ˜¯ç‚ºäº†æœ€å¤§åŒ–ç¹æ®–æˆåŠŸç‡çš„æ¼”åŒ–é©æ‡‰ã€‚" }
        ];

        const tableBody = document.getElementById('mammal-table-body');
        let currentSortColumn = 'rank'; // é è¨­æ’åºæ¬„ä½æ”¹ç‚º 'rank'
        let currentSortDirection = 'asc'; // é è¨­æ’åºæ–¹å‘æ”¹ç‚º 'asc' (ç”±å°åˆ°å¤§)

        // å¿«å•å¿«ç­”ç›¸é—œå…ƒç´ 
        const qaQuestion = document.getElementById('qa-question');
        const qaAnswer = document.getElementById('qa-answer');
        const showAnswerBtn = document.getElementById('show-answer-btn');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const restartQuizBtn = document.getElementById('restart-quiz-btn');

        let shuffledQaData = []; // ç”¨æ–¼å„²å­˜æ‰“äº‚å¾Œçš„é¡Œç›®
        let currentQaIndex = 0;

        // è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—ç›¸é—œå…ƒç´ 
        const funNoteModalOverlay = document.getElementById('fun-note-modal-overlay');
        const funNoteModalCloseBtn = document.getElementById('fun-note-modal-close');
        const modalAnimalName = document.getElementById('modal-animal-name');
        const modalFunNote = document.getElementById('modal-fun-note');


        // åˆå§‹åŒ– Tone.js åˆæˆå™¨
        const synth = new Tone.Synth().toDestination();

        // æ’­æ”¾æ»´ç­”è²çš„å‡½æ•¸
        function playTickSound() {
            // åœ¨æ’­æ”¾éŸ³æ•ˆå‰æª¢æŸ¥ AudioContext ç‹€æ…‹ä¸¦å˜—è©¦æ¢å¾©
            if (Tone.context.state !== 'running') {
                // å¦‚æœ AudioContext å°šæœªé‹è¡Œï¼Œå˜—è©¦æ¢å¾©ä¸¦åœ¨æ¢å¾©å¾Œæ’­æ”¾éŸ³æ•ˆ
                Tone.context.resume().then(() => {
                    synth.triggerAttackRelease("C4", "8n", Tone.context.currentTime);
                });
            } else {
                // å¦‚æœ AudioContext å·²ç¶“é‹è¡Œï¼Œç›´æ¥æ’­æ”¾éŸ³æ•ˆ
                synth.triggerAttackRelease("C4", "8n", Tone.context.currentTime);
            }
        }

        // Fisher-Yates æ´—ç‰Œæ¼”ç®—æ³•
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // äº¤æ›å…ƒç´ 
            }
            return array;
        }

        // æ¸²æŸ“è¡¨æ ¼å…§å®¹çš„å‡½æ•¸
        function renderTable(data) {
            tableBody.innerHTML = ''; // æ¸…ç©ºç¾æœ‰å…§å®¹
            // éæ¿¾æ•¸æ“šï¼Œåªé¡¯ç¤ºæ’ååœ¨ 30 æˆ–ä»¥ä¸‹çš„å‹•ç‰©
            const filteredData = data.filter(item => item.rank <= 30);

            filteredData.forEach((item, index) => {
                const row = document.createElement('tr');
                row.classList.add('hover:bg-pink-50', 'transition-all', 'duration-200', 'ease-in-out');

                // å¶æ•¸è¡Œæ·»åŠ èƒŒæ™¯è‰²ï¼Œå¢åŠ å¯è®€æ€§ (åŸºæ–¼ç•¶å‰ç´¢å¼•)
                if (index % 2 === 0) {
                    row.classList.add('bg-gray-50');
                }

                // æ¨™ç¤ºäººé¡è¡Œ
                if (item.animal.includes('äººé¡')) { // æª¢æŸ¥æ˜¯å¦åŒ…å«ã€Œäººé¡ã€
                    row.classList.add('highlight-human');
                }

                // æº–å‚™å‹•ç‰©åç¨±çš„é¡¯ç¤ºå…§å®¹
                let animalContentHtml;
                if (item.rank === 1) { // åªæœ‰ç•¶æ’åç‚º1æ™‚æ‰åŠ ä¸Šçš‡å† 
                    animalContentHtml = `
                        <div class="animal-cell-content">
                            <span class="crown-emoji">ğŸ‘‘</span>
                            <button type="button" class="animal-name-button" data-animal="${item.animal}" data-note="${item.notes}">${item.animal}</button>
                        </div>
                    `;
                } else {
                    animalContentHtml = `
                        <div class="animal-cell-content">
                            <button type="button" class="animal-name-button" data-animal="${item.animal}" data-note="${item.notes}">${item.animal}</button>
                        </div>
                    `;
                }


                row.innerHTML = `
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.rank}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${animalContentHtml}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.lengthText}</td>
                    <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-800">${item.ejaculationText}</td>
                `;
                tableBody.appendChild(row);
            });

            // åœ¨æ‰€æœ‰è¡Œæ¸²æŸ“å®Œç•¢å¾Œï¼Œç‚ºæ‰€æœ‰ animal-name-button æ·»åŠ äº‹ä»¶ç›£è½å™¨
            document.querySelectorAll('.animal-name-button').forEach(button => {
                button.addEventListener('click', (event) => {
                    const animal = event.target.dataset.animal;
                    const note = event.target.dataset.note;
                    showFunNoteModal(animal, note);
                });
            });
        }

        // æ’åºè¡¨æ ¼çš„å‡½æ•¸
        function sortTable(column) {
            // å¦‚æœé»æ“Šçš„æ˜¯ç•¶å‰æ’åºæ¬„ä½ï¼Œå‰‡åˆ‡æ›æ’åºæ–¹å‘
            if (currentSortColumn === column) {
                currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                // å¦å‰‡ï¼Œè¨­å®šæ–°çš„æ’åºæ¬„ä½ä¸¦é‡ç½®ç‚ºå‡åº
                currentSortColumn = column;
                currentSortDirection = 'asc';
            }

            // æ¸…é™¤æ‰€æœ‰ç®­é ­æ¨£å¼
            document.querySelectorAll('.sort-arrow').forEach(arrow => {
                arrow.classList.remove('sort-asc', 'sort-desc');
            });

            // æ ¹æ“šæ’åºæ–¹å‘æ·»åŠ ç®­é ­æ¨£å¼
            const currentArrow = document.getElementById(`sort-${column}`);
            if (currentArrow) {
                currentArrow.classList.add(currentSortDirection === 'asc' ? 'sort-asc' : 'sort-desc');
            }

            // åŸ·è¡Œæ’åº
            const sortedData = [...mammalData].sort((a, b) => {
                let valA = a[column];
                let valB = b[column];

                // è™•ç†å­—ç¬¦ä¸²æ’åº
                if (typeof valA === 'string' && typeof valB === 'string') {
                    return currentSortDirection === 'asc' ? valA.localeCompare(valB) : valB.localeCompare(valA);
                }
                // è™•ç†æ•¸å­—æ’åºï¼ŒåŒ…æ‹¬ Infinity (ä¸è©³) çš„æƒ…æ³
                if (valA === Infinity && valB !== Infinity) return currentSortDirection === 'asc' ? 1 : -1;
                if (valB === Infinity && valA !== Infinity) return currentSortDirection === 'asc' ? -1 : 1;
                if (valA === Infinity && valB === Infinity) return 0; // å…©å€‹éƒ½æ˜¯ Infinity å‰‡è¦–ç‚ºç›¸ç­‰

                return currentSortDirection === 'asc' ? valA - valB : valB - valA;
            });

            renderTable(sortedData); // é‡æ–°æ¸²æŸ“è¡¨æ ¼
        }

        // ç‚ºå¯æ’åºçš„æ¨™é ­æ·»åŠ é»æ“Šäº‹ä»¶ç›£è½å™¨
        document.querySelectorAll('th[data-sort-by]').forEach(header => {
            header.addEventListener('click', () => {
                const sortBy = header.getAttribute('data-sort-by');
                sortTable(sortBy);
            });
        });

        // å¿«å•å¿«ç­”å‡½æ•¸
        function displayQuestion() {
            if (currentQaIndex < shuffledQaData.length) {
                qaQuestion.textContent = `Q${currentQaIndex + 1}: ${shuffledQaData[currentQaIndex].question}`;
                qaAnswer.textContent = shuffledQaData[currentQaIndex].answer;
                qaAnswer.classList.add('hidden'); // é è¨­éš±è—ç­”æ¡ˆ
                showAnswerBtn.classList.remove('hidden');
                nextQuestionBtn.classList.remove('hidden');
                restartQuizBtn.classList.add('hidden');
                playTickSound(); // é¡¯ç¤ºæ–°é¡Œç›®æ™‚æ’­æ”¾æ»´ç­”è²
            } else {
                // æ‰€æœ‰å•é¡Œéƒ½å›ç­”å®Œç•¢
                qaQuestion.textContent = "æ­å–œä½ ï¼æ‰€æœ‰å•é¡Œéƒ½å›ç­”å®Œç•¢äº†ï¼ğŸ‰";
                qaAnswer.textContent = "é»æ“Šã€Œé‡æ–°é–‹å§‹ã€å†æ¬¡æŒ‘æˆ°å§ï¼";
                qaAnswer.classList.remove('hidden');
                showAnswerBtn.classList.add('hidden');
                nextQuestionBtn.classList.add('hidden');
                restartQuizBtn.classList.remove('hidden');
            }
        }

        function showAnswer() {
            qaAnswer.classList.remove('hidden');
            showAnswerBtn.classList.add('hidden');
        }

        function nextQuestion() {
            currentQaIndex++;
            displayQuestion();
        }

        function restartQuiz() {
            currentQaIndex = 0;
            shuffledQaData = shuffleArray([...qaData]); // é‡æ–°æ‰“äº‚é¡Œç›®
            displayQuestion();
        }

        // äº‹ä»¶ç›£è½å™¨
        showAnswerBtn.addEventListener('click', showAnswer);
        nextQuestionBtn.addEventListener('click', nextQuestion);
        restartQuizBtn.addEventListener('click', restartQuiz);

        // é¡¯ç¤ºè¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—
        function showFunNoteModal(animal, note) {
            modalAnimalName.textContent = animal;
            modalFunNote.textContent = note;
            funNoteModalOverlay.classList.remove('hidden');
        }

        // é—œé–‰è¶£å‘³å…§å®¹å½ˆå‡ºè¦–çª—
        function closeFunNoteModal() {
            funNoteModalOverlay.classList.add('hidden');
        }

        // å½ˆå‡ºè¦–çª—é—œé–‰æŒ‰éˆ•äº‹ä»¶
        funNoteModalCloseBtn.addEventListener('click', closeFunNoteModal);

        // é»æ“Šå½ˆå‡ºè¦–çª—å¤–éƒ¨é—œé–‰è¦–çª—
        funNoteModalOverlay.addEventListener('click', (event) => {
            if (event.target === funNoteModalOverlay) {
                closeFunNoteModal();
            }
        });


        // é é¢è¼‰å…¥æ™‚ï¼Œé è¨­ä»¥æ’åï¼ˆç”±å°åˆ°å¤§ï¼‰æ’åºä¸¦æ¸²æŸ“è¡¨æ ¼ï¼ŒåŒæ™‚åˆå§‹åŒ–å¿«å•å¿«ç­”
        window.onload = () => {
            // åˆå§‹æ¸²æŸ“ï¼šç›´æ¥ä»¥ rank å‡åºæ’åºä¸¦æ¸²æŸ“
            const initialSortedData = [...mammalData].sort((a, b) => a.rank - b.rank); // æ ¹æ“š rank é€²è¡Œå‡åºæ’åº
            renderTable(initialSortedData);

            // è¨­å®šåˆå§‹æ’åºç‹€æ…‹ï¼Œä»¥ä¾¿å¾ŒçºŒé»æ“Šèƒ½æ­£ç¢ºåˆ‡æ›
            currentSortColumn = 'rank';
            currentSortDirection = 'asc';

            // æ‰‹å‹•è¨­å®šåˆå§‹æ’åºç®­é ­
            const initialArrow = document.getElementById(`sort-${currentSortColumn}`);
            if (initialArrow) {
                initialArrow.classList.add('sort-asc'); // é è¨­ç‚ºå‡åºç®­é ­
            }

            // åˆå§‹åŒ–å¿«å•å¿«ç­”ï¼šæ‰“äº‚é¡Œç›®ä¸¦é¡¯ç¤ºç¬¬ä¸€é¡Œ
            shuffledQaData = shuffleArray([...qaData]);
            displayQuestion();
        };
    </script>
</body>
</html>

